(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{127:function(e,t,n){e.exports=n.p+"static/media/coachKLogo.05a5d5ff.png"},239:function(e,t,n){e.exports=n.p+"static/media/DukeBasketballLogoSpace.2ce598c8.png"},250:function(e,t,n){e.exports=n.p+"static/media/tentemoji.b41cdda7.png"},278:function(e,t,n){e.exports=n.p+"static/media/DukeBasketballLogo.52f6c490.png"},362:function(e,t,n){e.exports=n.p+"static/media/coachkangrymeme.0ad342aa.jpg"},367:function(e,t,n){e.exports=n.p+"static/media/kvilleBoundary.43414a24.jpg"},368:function(e,t,n){e.exports=n.p+"static/media/kvillesign.fc81b6fa.jpg"},375:function(e,t,n){"use strict";n.d(t,"a",(function(){return cr}));var r=n(12),o=n.n(r),a=n(8),i=n.n(a),c=(n(146),n(0)),s=n(593),l=n(595),u=n(280),d=n(37),h=n(14),b=n(276),j=n(53),f=n(252),g=n(120),m=n(258),x=n(378),p=n(21),y=(n(78),n(105),n(2)),O=n(55),w=n(11),v=n(7),C=n(23),S=n(33),T=n(41),k=n(82),I=n(34),P={background:"#F2F2F7",primary:"#00539B",primaryContainer:"#F2F2F7",secondary:"#1E3F66",tertiary:"#2E5984",quaternary:"#0FA4DC",white1:"#FFFAFACC",white2:"#f6f6f6",grey1:"#3a3b3c",grey2:"#656565",grey3:"#e5e5e5",grey4:"#555555",grey5:"#8E8E93",grey6:"#a9a9a9",popOutBorder:"#d8d9dc",greyModal:"#565656",text1:"#fff",text2:"#000",icon1:"#fff",icon2:"#000",error:"#E01805"},B={roundness:5},z=n(1),R=Object(c.createContext)(),D=function(){return Object(c.useContext)(R)},W=function(e){var t=e.children,n=Object(c.useState)(P),r=o()(n,2),a=r[0];r[1];return Object(z.jsx)(R.Provider,{value:{theme:a,generalTheme:B},children:t})},A=n(176),E=Object(A.b)({name:"snackbar",initialState:{snackbarOpen:!1,snackbarMessage:""},reducers:{toggleSnackBar:function(e){e.snackbarOpen=!e.snackbarOpen},setSnackMessage:function(e,t){e.snackbarMessage=t.payload}}}),U=E.actions,V=U.toggleSnackBar,L=U.setSnackMessage,N=E.reducer,M=n(239),H=n.n(M),G=S.a.get("window");function F(e){var t=Object(c.useState)(""),n=o()(t,2),r=n[0],a=n[1],i=Object(c.useState)(""),s=o()(i,2),l=s[0],u=s[1],h=Object(c.useState)(""),b=o()(h,2),j=b[0],f=b[1],g=Object(c.useState)([]),m=o()(g,2),x=m[0],v=(m[1],Object(c.useState)(!0)),P=o()(v,2),B=P[0],R=P[1],W=Object(c.useState)({window:G}),A=o()(W,2),E=A[0],U=A[1],N=D().theme,M=Object(d.b)();return Object(c.useEffect)((function(){var e=S.a.addEventListener("change",(function(e){var t=e.window;U({window:t})}));return function(){return null==e?void 0:e.remove()}})),Object(z.jsxs)(y.a,{style:_(N).container,children:[Object(z.jsxs)(k.a,{behavior:"padding",style:_(N).container,children:[Object(z.jsxs)(y.a,{style:_(N).banner,children:[Object(z.jsx)(w.a,{style:{color:N.white2,fontSize:35,marginTop:50},children:"REGISTER"}),Object(z.jsx)(y.a,{style:_(N).imageContainer,children:Object(z.jsx)(y.a,{style:_(N).boldImage,children:Object(z.jsx)(T.a,{style:_(N).logo,source:H.a})})}),Object(z.jsx)(y.a,{style:[_(N).slant,{borderRightWidth:E.window.width,borderTopWidth:E.window.height/5}]})]}),Object(z.jsxs)(y.a,{style:_(N).formCenter,children:[Object(z.jsxs)(y.a,{style:_(N).section,children:[Object(z.jsx)(y.a,{style:_(N).icon,children:Object(z.jsx)(I.default,{name:"account-circle-outline",color:N.icon2,size:25})}),Object(z.jsx)(O.a,{style:_(N).textInput,placeholder:"Username",value:j,onChangeText:function(e){return f(e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").replace(/[^a-z0-9]/gi,""))}})]}),Object(z.jsxs)(y.a,{style:_(N).section,children:[Object(z.jsx)(y.a,{style:_(N).icon,children:Object(z.jsx)(I.default,{name:"email-outline",color:N.icon2,size:25})}),Object(z.jsx)(O.a,{style:_(N).textInput,placeholder:"Email",value:r,keyboardType:"email-address",onChangeText:function(e){return a(e)}})]}),Object(z.jsxs)(y.a,{style:_(N).section,children:[Object(z.jsx)(y.a,{style:_(N).icon,children:Object(z.jsx)(I.default,{name:"lock-outline",color:N.icon2,size:25})}),Object(z.jsx)(O.a,{style:_(N).textInput,placeholder:"Password",value:l,secureTextEntry:B,onChangeText:function(e){return u(e)}}),Object(z.jsx)(C.a,{style:{marginRight:10},onPress:function(){return R(!B),!1},children:Object(z.jsx)(I.default,{name:B?"eye-off-outline":"eye-outline",color:N.icon2,size:20})})]}),Object(z.jsx)(C.a,{style:_(N).button,onPress:function(){return 0==j.length||0==r.length||0==l.length?(M(L("Please fill out everything")),void M(V())):l.length<6?(M(L("Passwords must be at least 6 characters")),void M(V())):void p.a.firestore().collection("users").where("username","==",j).get().then((function(e){e.empty?p.a.auth().createUserWithEmailAndPassword(r,l).then((function(){p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).set({email:r,username:j,groupCode:x}).catch((function(e){}))})).catch((function(e){M(L("The email address is already in use by another account")),M(V())})):(M(L("Username Taken")),M(V()))})).catch((function(e){M(L("Something went wrong")),M(V())}))},children:Object(z.jsx)(w.a,{style:{color:N.text1},children:"Register"})})]})]}),Object(z.jsxs)(y.a,{style:_(N).bottomButton,children:[Object(z.jsx)(w.a,{children:"Already have an account? "}),Object(z.jsx)(w.a,{style:{textAlign:"center",color:N.quaternary},onPress:function(){return e.navigation.navigate("Login")},children:"Sign In"})]})]})}var _=function(e){return v.a.create({container:{flex:1,backgroundColor:e.white2},banner:{backgroundColor:e.primary,width:"100%",height:"50%",alignItems:"center"},imageContainer:{position:"absolute",bottom:0,left:30,backgroundColor:"transparent",width:90,height:"100%",alignItems:"center",zIndex:2,margin:0},boldImage:{position:"absolute",bottom:0,backgroundColor:e.white2,borderRadius:15,width:90,height:70,justifyContent:"center",alignItems:"center",zIndex:2},logo:{height:60,width:60,resizeMode:"contain"},slant:{position:"absolute",bottom:0,zIndex:1,marginLeft:0,height:0,width:0,borderStyle:"solid",borderTopWidth:150,borderRightColor:e.white2,borderBottomColor:e.white2,borderTopColor:"transparent"},formCenter:{justifyContent:"start",alignContent:"center",flex:1,margin:25},section:{flexDirection:"row",alignItems:"center",backgroundColor:e.white2,height:40,borderRadius:20,margin:10,shadowColor:e.primary,elevation:20,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:7},icon:{position:"absolute",left:-10,height:50,width:50,borderRadius:100,alignItems:"center",justifyContent:"center",backgroundColor:e.white2,shadowColor:e.primary,elevation:20,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:7},textInput:{marginLeft:50,flexDirection:"row",flex:1,backgroundColor:e.white2,padding:10,borderRadius:20,height:"100%"},button:{alignItems:"center",justifyContent:"center",flexDirection:"row",width:"100%",backgroundColor:e.primary,height:30,marginTop:40,borderRadius:50},bottomButton:{flexDirection:"row",alignContent:"center",justifyContent:"center",borderTopColor:"gray",borderTopWidth:1,padding:10,textAlign:"center",marginBottom:60}})},X=n(73),Q=n(87),J=S.a.get("window");function q(e){var t=Object(c.useState)(""),n=o()(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),l=o()(s,2),u=l[0],h=l[1],b=Object(c.useState)(!0),j=o()(b,2),f=j[0],g=j[1],m=Object(c.useState)(!1),x=o()(m,2),v=x[0],S=x[1],P=D().theme,B=Object(d.b)();return Object(c.useEffect)((function(){var e=!0;return e&&function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(Q.a.getItem("USER_EMAIL"));case 2:return e=n.sent,n.next=5,i.a.awrap(Q.a.getItem("USER_PASSWORD"));case 5:t=n.sent,e&&t?p.a.auth().signInWithEmailAndPassword(e,t).then((function(){})).catch((function(e){})):S(!0);case 7:case"end":return n.stop()}}),null,null,null,Promise)}(),function(){return e=!1}})),v?Object(z.jsxs)(y.a,{style:Z(P).container,children:[Object(z.jsx)(X.a,{barStyle:"light-content",backgroundColor:"#6a51ae"}),Object(z.jsxs)(k.a,{behavior:"padding",style:Z(P).container,children:[Object(z.jsxs)(y.a,{style:Z(P).banner,children:[Object(z.jsx)(w.a,{style:{color:P.white2,fontSize:35,marginTop:50},children:"LOGIN"}),Object(z.jsx)(y.a,{style:Z(P).imageContainer,children:Object(z.jsx)(y.a,{style:Z(P).boldImage,children:Object(z.jsx)(T.a,{style:Z(P).logo,source:H.a})})}),Object(z.jsx)(y.a,{style:[Z(P).slant,{borderRightWidth:J.width,borderTopWidth:J.height/5}]})]}),Object(z.jsxs)(y.a,{style:Z(P).formCenter,children:[Object(z.jsxs)(y.a,{style:Z(P).section,children:[Object(z.jsx)(y.a,{style:Z(P).icon,children:Object(z.jsx)(I.default,{name:"account-circle-outline",color:P.icon2,size:25})}),Object(z.jsx)(O.a,{style:Z(P).textInput,placeholder:"Email",value:r,onChangeText:function(e){return a(e)},keyboardType:"email-address"})]}),Object(z.jsxs)(y.a,{style:Z(P).section,children:[Object(z.jsx)(y.a,{style:Z(P).icon,children:Object(z.jsx)(I.default,{name:"lock-outline",color:P.icon2,size:25})}),Object(z.jsx)(O.a,{style:Z(P).textInput,placeholder:"Password",secureTextEntry:f,value:u,onChangeText:function(e){return h(e)}}),Object(z.jsx)(C.a,{style:{marginRight:10},onPress:function(){return g(!f),!1},children:Object(z.jsx)(I.default,{name:f?"eye-off-outline":"eye-outline",color:P.icon2,size:20})})]}),Object(z.jsx)(C.a,{style:Z(P).button,onPress:function(){p.a.auth().signInWithEmailAndPassword(r,u).then((function(){Q.a.setItem("USER_EMAIL",r),Q.a.setItem("USER_PASSWORD",u)})).catch((function(e){var t="Login unsuccessful";e.message.includes("The email address is badly formatted")&&(t="Not a valid email"),e.message.includes("There is no user record")&&(t="Account does not exist"),e.message.includes("The password is invalid")&&(t="Incorrect password"),B(L(t)),B(V())}))},children:Object(z.jsx)(w.a,{style:{color:P.text1},children:"Sign In"})}),Object(z.jsxs)(y.a,{style:{width:"100%",justifyContent:"center",alignContent:"center",marginTop:20},children:[Object(z.jsx)(w.a,{style:Z(P).demoText,children:"Try our Demo Account:"}),Object(z.jsx)(w.a,{style:Z(P).demoText,children:"Email: kvilletenting@gmail.com"}),Object(z.jsx)(w.a,{style:Z(P).demoText,children:"Password: GTHC2023"})]})]})]}),Object(z.jsxs)(y.a,{style:Z(P).bottomButton,children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row",alignContent:"center",justifyContent:"center"},children:[Object(z.jsx)(w.a,{children:"Don't have an account? "}),Object(z.jsx)(w.a,{title:"Register",onPress:function(){return e.navigation.navigate("Register")},style:{textAlign:"center",color:P.quaternary},children:"Sign Up"})]}),Object(z.jsx)(y.a,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:Object(z.jsx)(w.a,{style:{margin:10,color:P.quaternary,textAlign:"center"},onPress:function(){e.navigation.navigate("ForgotPassword")},children:"Forgot Password?"})})]})]}):null}var Z=function(e){return v.a.create({container:{flex:1,backgroundColor:e.white2},banner:{backgroundColor:e.primary,width:"100%",height:"50%",alignItems:"center"},imageContainer:{position:"absolute",bottom:0,left:30,backgroundColor:"transparent",width:90,height:"100%",alignItems:"center",zIndex:2,margin:0},boldImage:{position:"absolute",bottom:0,backgroundColor:e.white2,borderRadius:15,width:90,height:70,justifyContent:"center",alignItems:"center",zIndex:2},logo:{height:60,width:60,resizeMode:"contain"},slant:{position:"absolute",bottom:-.5,zIndex:1,marginLeft:0,height:0,width:0,borderStyle:"solid",borderTopWidth:150,borderRightColor:e.white2,borderBottomColor:e.white2,borderTopColor:"transparent"},formCenter:{justifyContent:"center",flex:1,margin:25},section:{flexDirection:"row",alignItems:"center",backgroundColor:e.white2,height:40,borderRadius:20,margin:10,shadowColor:e.primary,elevation:20,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:7},icon:{position:"absolute",left:-10,height:50,width:50,borderRadius:100,alignItems:"center",justifyContent:"center",backgroundColor:e.white2,shadowColor:e.primary,elevation:20,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:7},textInput:{marginLeft:50,flexDirection:"row",flex:1,backgroundColor:e.white2,padding:10,borderRadius:20,height:"100%"},button:{alignItems:"center",justifyContent:"center",flexDirection:"row",width:"100%",backgroundColor:e.primary,height:30,marginTop:40,borderRadius:50},bottomButton:{alignContent:"center",justifyContent:"center",borderTopColor:"gray",borderTopWidth:1,padding:10,marginBottom:30},demoText:{color:e.grey2,textAlign:"center"}})},K=n(10),Y=n.n(K),$=n(71),ee=n(594),te=n(111),ne=n(308),re=n(51),oe=n(139),ae=n(56);n(303);function ie(e){var t=e.navigation,n=D().theme;return Object(z.jsxs)(re.a,{style:{flex:1,alignItems:"center",backgroundColor:n.background},children:[Object(z.jsxs)(y.a,{style:ce(n).topBanner,children:[Object(z.jsx)(C.a,{onPress:function(){return t.goBack()},style:{position:"absolute",left:10},children:Object(z.jsx)(ae.a,{name:"arrow-back",color:n.primary,size:30,style:{marginTop:3}})}),Object(z.jsx)(w.a,{style:ce(n).titleText,children:"Meet the Creators"})]}),Object(z.jsxs)(y.a,{style:ce(n).section,children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row",justifyContent:"space-between",width:"90%",marginTop:15},children:[Object(z.jsxs)(w.a,{style:ce(n).headerText,children:["\u25cf"," Kevin Fu"]}),Object(z.jsx)(w.a,{style:ce(n).headerText,children:"Class of '25"})]}),Object(z.jsxs)(y.a,{style:{width:"85%"},children:[Object(z.jsx)(w.a,{style:[ce(n).normalText,{marginLeft:6}],children:"CS and Math Major"}),Object(z.jsxs)(y.a,{style:{width:"100%",flexDirection:"row",justifyContent:"space-evenly",marginVertical:15},children:[Object(z.jsx)(C.a,{onPress:function(){oe.a("https://github.com/kevinfu1")},children:Object(z.jsx)(ae.a,{name:"logo-github",color:n.primary,size:22,style:{marginTop:3}})}),Object(z.jsx)(C.a,{onPress:function(){oe.a("https://www.linkedin.com/in/kevin-fu1/")},children:Object(z.jsx)(ae.a,{name:"logo-linkedin",color:n.primary,size:22,style:{marginTop:3}})}),Object(z.jsx)(C.a,{onPress:function(){te.a.openURL("mailto:kevin.fu366@duke.edu")},children:Object(z.jsx)(ae.a,{name:"mail-outline",color:n.primary,size:22,style:{marginTop:3}})}),Object(z.jsx)(C.a,{onPress:function(){oe.a("https://www.instagram.com/kevinfu_1/")},children:Object(z.jsx)(ae.a,{name:"logo-instagram",color:n.primary,size:22,style:{marginTop:3}})})]})]}),Object(z.jsxs)(y.a,{style:{flexDirection:"row",justifyContent:"space-between",width:"90%",marginTop:15},children:[Object(z.jsxs)(w.a,{style:ce(n).headerText,children:["\u25cf"," Alvin Hong"]}),Object(z.jsx)(w.a,{style:ce(n).headerText,children:"Class of '25"})]}),Object(z.jsxs)(y.a,{style:{width:"85%"},children:[Object(z.jsx)(w.a,{style:[ce(n).normalText,{marginLeft:6}],children:"ECE and CS Major"}),Object(z.jsxs)(y.a,{style:{width:"100%",flexDirection:"row",justifyContent:"space-evenly",marginVertical:15},children:[Object(z.jsx)(C.a,{onPress:function(){oe.a("https://github.com/alvin-hong")},children:Object(z.jsx)(ae.a,{name:"logo-github",color:n.primary,size:22,style:{marginTop:3}})}),Object(z.jsx)(C.a,{onPress:function(){oe.a("https://www.linkedin.com/in/alvin-hong-2a0763225/")},children:Object(z.jsx)(ae.a,{name:"logo-linkedin",color:n.primary,size:22,style:{marginTop:3}})}),Object(z.jsx)(C.a,{onPress:function(){te.a.openURL("mailto:alvin.hong@duke.edu")},children:Object(z.jsx)(ae.a,{name:"mail-outline",color:n.primary,size:22,style:{marginTop:3}})}),Object(z.jsx)(C.a,{onPress:function(){oe.a("https://www.instagram.com/alvin.hong_/")},children:Object(z.jsx)(ae.a,{name:"logo-instagram",color:n.primary,size:22,style:{marginTop:3}})})]})]}),Object(z.jsxs)(y.a,{style:{width:"90%",marginTop:18},children:[Object(z.jsxs)(w.a,{style:[ce(n).normalText,{marginBottom:10}],children:["Feel free to email us at"," ",Object(z.jsx)(w.a,{style:{color:n.quaternary},onPress:function(){return te.a.openURL("mailto:kvilletenting@gmail.com")},children:"kvilletenting@gmail.com"})," ","if you have any questions about the project or any other inquiries."]}),Object(z.jsx)(w.a,{style:[ce(n).normalText,{marginBottom:10}],children:"We would love to hear any feedback or suggestions you have for us."})]})]})]})}var ce=function(e){return v.a.create({topBanner:{flexDirection:"row",backgroundColor:e.background,alignItems:"center",justifyContent:"center",marginBottom:30,width:"100%",height:70,paddingVertical:10,borderBottomWidth:.5,borderColor:e.popOutBorder,paddingHorizontal:20},titleText:{fontSize:20,fontWeight:"600",color:e.text2},section:{width:"100%",alignItems:"center"},headerText:{fontSize:18,color:e.grey2,fontWeight:"600",marginBottom:5},normalText:{fontSize:15,fontWeight:"400",marginBottom:5}})},se=n(127),le=n.n(se);function ue(e){var t=e.navigation,n=Object(d.c)((function(e){return e.user.currentUser.username})),r=Object(c.useState)(""),a=o()(r,2),s=a[0],l=a[1],u=Object(c.useState)(""),h=o()(u,2),b=h[0],j=h[1],f=Object(c.useState)(!0),g=o()(f,2),m=g[0],x=g[1],v=D().theme,S=Object(d.b)(),I=p.a.auth().currentUser;return Object(z.jsxs)(re.a,{style:de(v).container,children:[Object(z.jsxs)(y.a,{style:de(v).topBanner,children:[Object(z.jsx)(C.a,{onPress:function(){return t.goBack()},children:Object(z.jsx)(ae.a,{name:"arrow-back",color:v.primary,size:30,style:{marginTop:3}})}),Object(z.jsx)(w.a,{style:de(v).titleText,children:"Update email address"}),Object(z.jsx)(C.a,{onPress:function(){var e;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("LyenTwoXvUSGJvT14cpQUegAZXp1"!=p.a.auth().currentUser.uid){n.next=4;break}return S(L("This is a demo account")),S(V()),n.abrupt("return");case 4:return e=p.a.auth.EmailAuthProvider.credential(I.email,b),n.next=7,i.a.awrap(I.reauthenticateWithCredential(e).then((function(){p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).update({email:s}).then((function(){S(L("Saved New Email")),S(V()),t.goBack()})).catch((function(e){})),p.a.auth().currentUser.updateEmail(s).catch((function(e){}))})).catch((function(e){S(L("Incorrect Password Entered")),S(V())})));case 7:case"end":return n.stop()}}),null,null,null,Promise)},children:Object(z.jsx)(w.a,{style:{fontSize:18,fontWeight:"500",color:v.primary},children:"Save"})})]}),Object(z.jsxs)(k.a,{behavior:"padding",style:[de(v).container,{width:"100%"}],children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row",width:"90%",alignItems:"flex-end",marginBottom:60,marginTop:30},children:[Object(z.jsx)(T.a,{source:le.a,style:de(v).kIcon}),Object(z.jsxs)(y.a,{style:{marginLeft:10},children:[Object(z.jsx)(w.a,{style:{fontSize:16,fontWeight:"500"},children:I.email}),Object(z.jsxs)(w.a,{style:{fontSize:16,fontWeight:"400"},children:["Username: ",n]})]})]}),Object(z.jsxs)(y.a,{style:{height:"50%",width:"100%",alignItems:"center"},children:[Object(z.jsx)(y.a,{style:de(v).inputView,children:Object(z.jsx)(O.a,{style:de(v).textInput,placeholder:"New email address",value:s,onChangeText:function(e){return l(e)},keyboardType:"email-address"})}),Object(z.jsxs)(y.a,{style:de(v).inputView,children:[Object(z.jsx)(O.a,{style:de(v).textInput,placeholder:"Account Password",secureTextEntry:m,value:b,onChangeText:function(e){return j(e)}}),Object(z.jsx)(C.a,{style:{marginLeft:-20},onPress:function(){return x(!m),!1},children:Object(z.jsx)(ae.a,{name:m?"eye-off-outline":"eye-outline",color:v.icon2,size:20})})]})]})]})]})}var de=function(e){return v.a.create({container:{flex:1,alignItems:"center",backgroundColor:e.background},topBanner:{flexDirection:"row",backgroundColor:e.background,alignItems:"center",justifyContent:"space-between",marginBottom:30,width:"100%",height:70,paddingVertical:10,borderBottomWidth:.5,borderColor:e.popOutBorder,paddingHorizontal:10},titleText:{fontSize:18,fontWeight:"600",color:e.text2},kIcon:{width:40,height:45,alignSelf:"center",marginLeft:10,marginRight:20},textInput:{width:"100%",fontSize:18,paddingHorizontal:5,paddingVertical:5,outlineWidth:.5},inputView:{flexDirection:"row",marginVertical:18,justifyContent:"space-between",alignItems:"center",width:"90%",borderBottomColor:e.grey3,borderBottomWidth:1}})};function he(e){var t=e.navigation,n=Object(d.c)((function(e){return e.user.currentUser.username})),r=Object(c.useState)(""),a=o()(r,2),s=a[0],l=a[1],u=Object(c.useState)(""),h=o()(u,2),b=h[0],j=h[1],f=Object(c.useState)(""),g=o()(f,2),m=g[0],x=g[1],v=Object(c.useState)(!0),S=o()(v,2),I=S[0],P=S[1],B=Object(c.useState)(!0),R=o()(B,2),W=R[0],A=R[1],E=Object(c.useState)(!0),U=o()(E,2),N=U[0],M=U[1],H=D().theme,G=Object(d.b)(),F=p.a.auth().currentUser;return Object(z.jsxs)(re.a,{style:be(H).container,children:[Object(z.jsxs)(y.a,{style:be(H).topBanner,children:[Object(z.jsx)(C.a,{onPress:function(){return t.goBack()},children:Object(z.jsx)(ae.a,{name:"arrow-back",color:H.primary,size:30,style:{marginTop:3}})}),Object(z.jsx)(w.a,{style:be(H).titleText,children:"Reset password"}),Object(z.jsx)(C.a,{onPress:function(){var e;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("LyenTwoXvUSGJvT14cpQUegAZXp1"!=p.a.auth().currentUser.uid){n.next=4;break}return G(L("This is a demo account")),G(V()),n.abrupt("return");case 4:if(b!=m){n.next=10;break}return e=p.a.auth.EmailAuthProvider.credential(F.email,s),n.next=8,i.a.awrap(F.reauthenticateWithCredential(e).then((function(){p.a.auth().currentUser.updatePassword(b).then((function(){G(L("Saved New Password")),G(V()),t.goBack()})).catch((function(e){}))})).catch((function(e){G(L("Incorrect Current Password Entered")),G(V())})));case 8:n.next=12;break;case 10:G(L("Your Passwords Do Not Match")),G(V());case 12:case"end":return n.stop()}}),null,null,null,Promise)},children:Object(z.jsx)(w.a,{style:{fontSize:18,fontWeight:"500",color:H.primary},children:"Save"})})]}),Object(z.jsxs)(k.a,{behavior:"padding",style:[be(H).container,{width:"100%"}],children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row",width:"90%",alignItems:"flex-end",marginBottom:60,marginTop:30},children:[Object(z.jsx)(T.a,{source:le.a,style:be(H).kIcon}),Object(z.jsxs)(y.a,{style:{marginLeft:10},children:[Object(z.jsx)(w.a,{style:{fontSize:16,fontWeight:"500"},children:F.email}),Object(z.jsxs)(w.a,{style:{fontSize:16,fontWeight:"400"},children:["Username: ",n]})]})]}),Object(z.jsxs)(y.a,{style:{height:"50%",width:"100%",alignItems:"center"},children:[Object(z.jsxs)(y.a,{style:[be(H).inputView,{marginBottom:60}],children:[Object(z.jsx)(O.a,{style:be(H).textInput,placeholder:"Current password",secureTextEntry:I,value:s,onChangeText:function(e){return l(e)}}),Object(z.jsx)(C.a,{style:{marginLeft:-20},onPress:function(){return P(!I),!1},children:Object(z.jsx)(ae.a,{name:I?"eye-off-outline":"eye-outline",color:H.icon2,size:20})})]}),Object(z.jsxs)(y.a,{style:be(H).inputView,children:[Object(z.jsx)(O.a,{style:be(H).textInput,placeholder:"New password",secureTextEntry:N,value:b,onChangeText:function(e){return j(e)}}),Object(z.jsx)(C.a,{style:{marginLeft:-20},onPress:function(){return M(!N),!1},children:Object(z.jsx)(ae.a,{name:N?"eye-off-outline":"eye-outline",color:H.icon2,size:20})})]}),Object(z.jsxs)(y.a,{style:be(H).inputView,children:[Object(z.jsx)(O.a,{style:be(H).textInput,placeholder:"Confirm new password",secureTextEntry:W,value:m,onChangeText:function(e){return x(e)}}),Object(z.jsx)(C.a,{style:{marginLeft:-20},onPress:function(){return A(!W),!1},children:Object(z.jsx)(ae.a,{name:W?"eye-off-outline":"eye-outline",color:H.icon2,size:20})})]})]})]})]})}var be=function(e){return v.a.create({container:{flex:1,alignItems:"center",backgroundColor:e.background},topBanner:{flexDirection:"row",backgroundColor:e.background,alignItems:"center",justifyContent:"space-between",marginBottom:30,width:"100%",height:70,paddingVertical:10,borderBottomWidth:.5,borderColor:e.popOutBorder,paddingHorizontal:10},titleText:{fontSize:18,fontWeight:"600",color:e.text2},kIcon:{width:40,height:45,alignSelf:"center",marginLeft:10,marginRight:20},textInput:{width:"100%",fontSize:18,paddingHorizontal:5,paddingVertical:5},inputView:{flexDirection:"row",marginVertical:18,justifyContent:"space-between",alignItems:"center",width:"90%",borderBottomColor:e.grey3,borderBottomWidth:1}})},je=n(19),fe=n.n(je),ge=n(128),me=["toggleModal","buttonAction","body","buttonText","userStyle"];function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t,n,r,o=e.toggleModal,a=e.buttonAction,i=e.body,c=e.buttonText,s=e.userStyle,l=fe()(e,me),u=D().theme;return"light"==s?(t="#fff",n="92%",r="black"):(t="#565656",n="100%",r="#fff"),Object(z.jsx)(ge.a,pe(pe({style:Oe(u).BottomModalView,swipeDirection:["down"],backdropTransitionOutTiming:0,keyboardDismissMode:"on-drag"},l),{},{children:Object(z.jsxs)(y.a,{children:[Object(z.jsxs)(y.a,{style:[Oe(u).confirmationPop,{backgroundColor:t,opacity:n}],children:[Object(z.jsx)(y.a,{style:{height:"60%",width:"100%",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#cfcfcf",padding:10},children:Object(z.jsx)(w.a,{style:[Oe(u).confirmationText,{color:r}],children:i})}),Object(z.jsx)(C.a,{onPress:function(){a(),o()},style:{height:"40%",width:"100%"},children:Object(z.jsx)(y.a,{style:{height:"100%",width:"100%",justifyContent:"center"},children:Object(z.jsx)(w.a,{style:[Oe(u).confirmationHeader,{color:u.error}],children:c})})})]}),Object(z.jsx)(C.a,{onPress:function(){return o()},style:[Oe(u).confirmationBottomBtn,{backgroundColor:t,opacity:n}],children:Object(z.jsx)(w.a,{style:[Oe(u).confirmationHeader,{color:"#1988f8"}],children:"Cancel"})})]})}))},Oe=function(e){return v.a.create({BottomModalView:{margin:0,justifyContent:"flex-end"},confirmationPop:{width:"95%",height:150,alignSelf:"center",alignItems:"center",justifyContent:"space-evenly",borderRadius:20,margin:15},confirmationHeader:{fontWeight:"600",textAlign:"center",fontSize:23},confirmationText:{textAlign:"center",justifyContent:"center",padding:5},confirmationBottomBtn:{color:e.text1,alignSelf:"center",width:"95%",borderRadius:15,justifyContent:"center",alignItems:"center",height:65,marginBottom:15,shadowColor:"#171717",shadowOffset:{width:0,height:-5},shadowOpacity:.5,shadowRadius:20,elevation:5}})},we=Object(A.b)({name:"user",initialState:{currentUser:null,currGroupCode:"",currGroupName:"",currUserName:"",currTentType:"",currGroupRole:""},reducers:{setCurrentUser:function(e,t){e.currentUser=t.payload},reset:function(e){e.currentUser=null,e.currGroupCode="",e.currGroupName="",e.currUserName="",e.currTentType="",e.currGroupRole=""},resetCurrGroup:function(e){e.currGroupCode="",e.currGroupName="",e.currUserName="",e.currTentType="",e.currGroupRole=""},setGroupCode:function(e,t){e.currGroupCode=t.payload},setGroupName:function(e,t){e.currGroupName=t.payload},setUserName:function(e,t){e.currUserName=t.payload},setTentType:function(e,t){e.currTentType=t.payload},setGroupRole:function(e,t){e.currGroupRole=t.payload}}}),ve=we.actions,Ce=ve.setCurrentUser,Se=ve.reset,Te=ve.setGroupCode,ke=ve.setGroupName,Ie=ve.setUserName,Pe=ve.setTentType,Be=ve.setGroupRole,ze=(ve.resetCurrGroup,we.reducer);function Re(e){var t=e.navigation,n=Object(c.useState)(!1),r=o()(n,2),a=r[0],s=r[1],l=D().theme,u=Object(d.b)();function h(){s(!a)}return Object(z.jsxs)(re.a,{style:De(l).settingsContainer,children:[Object(z.jsxs)(y.a,{style:De(l).topBanner,children:[Object(z.jsx)(C.a,{onPress:function(){return t.goBack()},style:{position:"absolute",left:15},children:Object(z.jsx)(ae.a,{name:"arrow-back",color:l.primary,size:30,style:{marginTop:3}})}),Object(z.jsx)(w.a,{style:[De(l).titleText,{color:l.text2,alignSelf:"center",fontSize:26,marginLeft:0}],children:"Settings"})]}),Object(z.jsx)(w.a,{style:De(l).headerText,children:"User Settings"}),Object(z.jsxs)(C.a,{style:De(l).settingBtn,onPress:function(){return t.navigate("ChangeEmail")},children:[Object(z.jsxs)(y.a,{style:De(l).rightOfBtn,children:[Object(z.jsx)(ae.a,{name:"mail-outline",color:l.grey2,size:22}),Object(z.jsx)(w.a,{style:De(l).listText,children:"Update Email Address"})]}),Object(z.jsx)(ae.a,{name:"arrow-forward",color:l.grey2,size:25,style:{marginRight:20}})]}),Object(z.jsxs)(C.a,{style:De(l).settingBtn,onPress:function(){return t.navigate("ChangePassword")},children:[Object(z.jsxs)(y.a,{style:De(l).rightOfBtn,children:[Object(z.jsx)(ae.a,{name:"lock-closed-outline",color:l.grey2,size:22}),Object(z.jsx)(w.a,{style:De(l).listText,children:"Change Password"})]}),Object(z.jsx)(ae.a,{name:"arrow-forward",color:l.grey2,size:25,style:{marginRight:20}})]}),Object(z.jsx)(w.a,{style:[De(l).headerText,{marginTop:15}],children:"About"}),Object(z.jsxs)(C.a,{style:De(l).settingBtn,onPress:function(){return t.navigate("AboutScreen")},children:[Object(z.jsxs)(y.a,{style:De(l).rightOfBtn,children:[Object(z.jsx)(ae.a,{name:"apps-outline",color:l.grey2,size:22}),Object(z.jsx)(w.a,{style:De(l).listText,children:"Creators"})]}),Object(z.jsx)(ae.a,{name:"arrow-forward",color:l.grey2,size:25,style:{marginRight:20}})]}),Object(z.jsxs)(C.a,{style:De(l).settingBtn,onPress:function(){oe.a("https://kevinfu1.github.io/KVille-Website/privacy.html")},children:[Object(z.jsxs)(y.a,{style:De(l).rightOfBtn,children:[Object(z.jsx)(ae.a,{name:"clipboard-outline",color:l.grey2,size:22}),Object(z.jsx)(w.a,{style:De(l).listText,children:"Privacy Policy"})]}),Object(z.jsx)(ae.a,{name:"arrow-forward",color:l.grey2,size:25,style:{marginRight:20}})]}),Object(z.jsx)(w.a,{style:[De(l).headerText,{marginTop:15}],children:"Support"}),Object(z.jsxs)(C.a,{style:De(l).settingBtn,onPress:function(){return t.navigate("DeleteAccount")},children:[Object(z.jsxs)(y.a,{style:De(l).rightOfBtn,children:[Object(z.jsx)(ae.a,{name:"trash-outline",color:l.error,size:22}),Object(z.jsx)(w.a,{style:[De(l).listText,{color:l.error}],children:"Delete Account"})]}),Object(z.jsx)(ae.a,{name:"arrow-forward",color:l.grey2,size:25,style:{marginRight:20}})]}),Object(z.jsxs)(C.a,{style:De(l).leaveButton,onPress:h,children:[Object(z.jsx)(ae.a,{name:"log-out-outline",color:l.grey2,size:22,style:{marginRight:15}}),Object(z.jsx)(w.a,{style:{color:l.grey2,fontSize:20,fontWeight:"500"},children:"Log out"})]}),Object(z.jsx)(ye,{body:"Are you sure you want to log out?",buttonText:"Log out",buttonAction:function(){i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.next=3,i.a.awrap(Q.a.multiRemove(["USER_EMAIL","USER_PASSWORD","NAVIGATION_STATE_V1"]));case 3:return e.next=5,i.a.awrap(p.a.auth().signOut());case 5:u(Se());case 6:case"end":return e.stop()}}),null,null,null,Promise)},toggleModal:h,isVisible:a,onBackdropPress:function(){return s(!1)},onSwipeComplete:h,userStyle:"light"})]})}var De=function(e){return v.a.create({settingsContainer:{flexDirection:"column",backgroundColor:e.background,width:"100%",height:"100%",borderTopRightRadius:20,borderTopLeftRadius:20},topBanner:{flexDirection:"row",backgroundColor:e.background,alignItems:"center",justifyContent:"center",marginBottom:30,width:"100%",paddingVertical:10,borderBottomWidth:.5,borderColor:e.popOutBorder,borderTopRightRadius:20,borderTopLeftRadius:20,paddingHorizontal:20},titleText:{fontSize:20,fontWeight:"600",color:e.grey2,marginLeft:25},headerText:{fontSize:17,color:e.grey2,fontWeight:"600",marginLeft:20,marginBottom:7},rightOfBtn:{flexDirection:"row",marginLeft:20},listText:{fontSize:16,fontWeight:"400",marginLeft:20},settingBtn:{flexDirection:"row",width:"100%",height:50,justifyContent:"space-between",alignItems:"center",backgroundColor:e.white1},leaveButton:{flexDirection:"row",backgroundColor:"#fff",borderRadius:15,padding:15,position:"absolute",bottom:"3%",width:"90%",alignItems:"center",alignSelf:"center",justifyContent:"center",borderWidth:.5,borderColor:e.popOutBorder}})};function We(e){var t=e.navigation,n=Object(d.c)((function(e){return e.user.currentUser.groupCode})),r=Object(d.c)((function(e){return e.user.currentUser.username})),a=Object(c.useState)(""),s=o()(a,2),l=s[0],u=s[1],h=Object(c.useState)(!0),b=o()(h,2),j=b[0],f=b[1],g=Object(c.useState)(!1),m=o()(g,2),x=m[0],v=m[1],S=D().theme,I=Object(d.b)();function P(){v(!x)}var B=p.a.auth().currentUser;return Object(z.jsxs)(re.a,{style:Ae(S).container,children:[Object(z.jsxs)(y.a,{style:Ae(S).topBanner,children:[Object(z.jsx)(C.a,{onPress:function(){return t.goBack()},style:{position:"absolute",left:10,alignContent:"center",justifyContent:"center"},children:Object(z.jsx)(ae.a,{name:"arrow-back",color:S.primary,size:30})}),Object(z.jsx)(w.a,{style:Ae(S).titleText,children:"Delete User Account"})]}),Object(z.jsxs)(k.a,{behavior:"padding",style:[Ae(S).container,{width:"100%"}],children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row",width:"90%",alignItems:"flex-end",marginBottom:60,marginTop:30},children:[Object(z.jsx)(T.a,{source:le.a,style:Ae(S).kIcon}),Object(z.jsxs)(y.a,{style:{marginLeft:10},children:[Object(z.jsx)(w.a,{style:{fontSize:16,fontWeight:"500"},children:B.email}),Object(z.jsxs)(w.a,{style:{fontSize:16,fontWeight:"400"},children:["Username: ",r]})]})]}),Object(z.jsx)(y.a,{style:{height:"50%",width:"100%",alignItems:"center"},children:Object(z.jsxs)(y.a,{style:Ae(S).inputView,children:[Object(z.jsx)(O.a,{style:Ae(S).textInput,placeholder:"Account Password",secureTextEntry:j,value:l,onChangeText:function(e){return u(e)}}),Object(z.jsx)(C.a,{style:{marginLeft:-20},onPress:function(){return f(!j),!1},children:Object(z.jsx)(ae.a,{name:j?"eye-off-outline":"eye-outline",color:S.icon2,size:20})})]})}),Object(z.jsx)(C.a,{style:Ae(S).leaveButton,onPress:P,children:Object(z.jsx)(w.a,{style:{color:S.error,fontSize:20,fontWeight:"500"},children:"Delete Account"})})]}),Object(z.jsx)(ye,{body:"Are you sure you want to DELETE your account? This will delete any groups you have created and remove you from any groups you have joined.",buttonText:"Delete account",buttonAction:function(){!function(){var e;i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("LyenTwoXvUSGJvT14cpQUegAZXp1"!=p.a.auth().currentUser.uid){t.next=4;break}return I(L("This is a demo account")),I(V()),t.abrupt("return");case 4:if(0!=n.length){t.next=10;break}return e=p.a.auth.EmailAuthProvider.credential(B.email,l),t.next=8,i.a.awrap(B.reauthenticateWithCredential(e).then((function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.a.multiRemove(["USER_EMAIL","USER_PASSWORD","NAVIGATION_STATE_V1"]),e.next=3,i.a.awrap(p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).delete().catch((function(e){})));case 3:return e.next=5,i.a.awrap(p.a.auth().currentUser.delete().catch((function(e){})));case 5:I(Se());case 6:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){I(L("Incorrect Password Entered")),I(V())})));case 8:t.next=12;break;case 10:I(L("Delete or leave all current groups before deleting account")),I(V());case 12:case"end":return t.stop()}}),null,null,null,Promise)}()},toggleModal:P,isVisible:x,onBackdropPress:function(){return v(!1)},onSwipeComplete:P,userStyle:"light"})]})}var Ae=function(e){return v.a.create({container:{flex:1,alignItems:"center",backgroundColor:e.background},topBanner:{flexDirection:"row",backgroundColor:e.background,alignItems:"center",justifyContent:"center",marginBottom:30,width:"100%",height:70,paddingVertical:10,borderBottomWidth:.5,borderColor:e.popOutBorder,paddingHorizontal:20},titleText:{fontSize:20,fontWeight:"600",color:e.text2},kIcon:{width:40,height:45,alignSelf:"center",marginLeft:10,marginRight:20},textInput:{width:"100%",fontSize:18,paddingHorizontal:5,paddingVertical:5,outlineWidth:.5},inputView:{flexDirection:"row",marginVertical:18,justifyContent:"space-between",alignItems:"center",width:"90%",borderBottomColor:e.grey3,borderBottomWidth:1},leaveButton:{backgroundColor:"#fff",borderRadius:15,padding:15,position:"absolute",bottom:"3%",width:"90%",alignItems:"center",alignSelf:"center",borderWidth:.5,borderColor:e.popOutBorder}})},Ee=Object(l.a)();function Ue(){return Object(z.jsxs)(Ee.Navigator,{children:[Object(z.jsx)(Ee.Screen,{name:"AccountSettingsScreen",component:Re,options:{headerShown:!1}}),Object(z.jsx)(Ee.Screen,{name:"AboutScreen",component:ie,options:{headerShown:!1}}),Object(z.jsx)(Ee.Screen,{name:"ChangeEmail",component:ue,options:{headerShown:!1}}),Object(z.jsx)(Ee.Screen,{name:"ChangePassword",component:he,options:{headerShown:!1}}),Object(z.jsx)(Ee.Screen,{name:"DeleteAccount",component:We,options:{headerShown:!1}})]})}var Ve=n(72),Le=n(101),Ne=n(102),Me=n(360),He=n(277),Ge=n.n(He),Fe=n(278),_e=n.n(Fe),Xe=["#ececec","#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#fed9c9","#b4a7d6","#d5a6bd","#e69138","#6aa84f"];function Qe(e,t){var n,r,o,a,c,s,l,u,d,h,b,j,f,g,m,x;return i.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:x=function(e,t){t.sort((function(e,t){return e.hours-t.hours})),t.sort((function(t,n){return Number(n.availability[e])-Number(t.availability[e])}))},y.t0=t,y.next="Black"===y.t0?4:"Blue"===y.t0?7:10;break;case 4:return n=2,r=10,y.abrupt("break",12);case 7:return n=1,r=6,y.abrupt("break",12);case 10:n=1,r=2;case 12:return o=new Array,a=new Array(336),c=null,s=null,l=[{id:"12345",name:"empty",color:"#ececec",changedHrs:0}],y.next=19,i.a.awrap(p.a.firestore().collection("groups").doc(e).collection("members").get().then((function(e){e.forEach((function(e){var t=e.data().availability,n=e.data().name,r=e.id,a=new Array(336);a.fill(!1);var i={id:r,name:n,color:"",changedHrs:0};l.push(i);var c={name:n,hours:0,availability:t,consecutive:0,id:r,shifts:a};o.push(c)}))})));case 19:if(1!=o.length){y.next=21;break}throw"Not enough members";case 21:u=0;case 22:if(!(u<336)){y.next=42;break}if(u%48!=2){y.next=30;break}for(x(u,o),c.availability[u]&&(d=o.findIndex((function(e){return e==c})),o.splice(d,1),o.unshift(c)),2==n&&s.availability[u]&&(h=o.findIndex((function(e){return e==s})),o.splice(h,1),o.unshift(s)),b=0;b<12;b++)for(j=0;j<r;j++)0==j&&o[0].availability[u]?(a[b+u]=o[0].name,o[0].shifts[b+u]=!0,o[0].hours++):j<o.length&&o[j].availability[u]?(a[b+u]+=" "+o[j].name,o[j].shifts[b+u]=!0,o[j].hours++):a[b+u]+=" empty";return u+=11,y.abrupt("continue",39);case 30:if(!c||!s){y.next=34;break}return c.availability[u]&&c.consecutive<8?(a[u]=c.name,c.shifts[u]=!0,c.hours++,c.consecutive++):(c.consecutive=0,x(u,o),2==n&&o[0]==s?o[1].availability[u]?(a[u]=o[1].name,o[1].shifts[u]=!0,o[1].hours++,c=o[1]):a[u]="empty":o[0].availability[u]?(a[u]=o[0].name,o[0].shifts[u]=!0,o[0].hours++,c=o[0]):a[u]="empty"),2==n&&(s.availability[u]&&s.consecutive<8?(a[u]+=" "+s.name,s.shifts[u]=!0,s.hours++,s.consecutive++):(s.consecutive=0,x(u,o),o[0]==c?o[1].availability[u]?(a[u]+=" "+o[1].name,o[1].shifts[u]=!0,o[1].hours++,s=o[1]):a[u]+=" empty":o[0].availability[u]?(a[u]+=" "+o[0].name,o[0].shifts[u]=!0,o[0].hours++,s=o[0]):a[u]+=" empty")),y.abrupt("continue",39);case 34:x(u,o),o[0].availability[u]?(a[u]=o[0].name,o[0].shifts[u]=!0,o[0].hours++):a[u]="empty",2==n&&(o[1].availability[u]?(a[u]+=" "+o[1].name,o[1].shifts[u]=!0,o[1].hours++):o[1].availability[u]||(a[u]+=" empty")),c=o[0],s=o[1];case 39:u++,y.next=22;break;case 42:for(f=0;f<o.length;f++)0==f?o[0].name+" "+o[0].hours+" | ":o[f].name+" "+o[f].hours+" | ";for(g=0;g<o.length;g++)p.a.firestore().collection("groups").doc(e).collection("members").doc(o[g].id).update({scheduledHrs:o[g].hours/2,shifts:o[g].shifts});for(m=1;m<l.length;m++)l[m].color=Xe[m];return p.a.firestore().collection("groups").doc(e).update({memberArr:l}),y.abrupt("return",a);case 47:case"end":return y.stop()}}),null,null,null,Promise)}var Je=n(217);function qe(){var e=D().theme;return Object(z.jsx)(y.a,{style:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:e.background},children:Object(z.jsx)(Je.a,{size:"large"})})}var Ze=n(362),Ke=n.n(Ze),Ye=S.a.get("window");function $e(e){var t=e.navigation,n=.8*Ye.width/551,r=D().theme;return Object(z.jsxs)(y.a,{style:et(r).fill,children:[Object(z.jsxs)(y.a,{style:{height:"20%",justifyContent:"center"},children:[Object(z.jsx)(w.a,{style:et(r).infoText,children:"Sorry, Looks like an error occured."}),Object(z.jsx)(w.a,{style:et(r).infoText,children:"Please return to the home page"})]}),Object(z.jsx)(y.a,{style:{width:"100%",height:"50%",justifyContent:"center"},children:Object(z.jsx)(T.a,{style:{width:.8*Ye.width,height:448*n,borderRadius:20,alignSelf:"center"},source:Ke.a})}),Object(z.jsx)(C.a,{style:et(r).returnBtn,onPress:function(){return t.navigate("Home")},children:Object(z.jsx)(w.a,{style:{color:"white",fontSize:25,fontWeight:"700"},children:"Return Home"})})]})}var et=function(e){return v.a.create({fill:{flex:1,alignItems:"center",backgroundColor:e.backgroundColor},infoText:{fontSize:20,fontWeight:"600",marginVertical:6},returnBtn:{backgroundColor:e.primary,width:"90%",height:"7%",marginTop:"20%",alignItems:"center",justifyContent:"center",borderRadius:15}})},tt=["toggleModal","backgroundColor","swipeDown","height","userStyle","cancelButton","children"];function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(e){var t,n=e.toggleModal,r=e.backgroundColor,o=e.swipeDown,a=void 0===o||o,i=e.height,c=void 0===i?130:i,s=e.userStyle,l=e.cancelButton,u=void 0!==l&&l,d=e.children,h=fe()(e,tt),b=D().theme;t="light"==s?"#fff":"#565656",void 0!==r&&(t=r);var j=u?c+110:c+30;return Object(z.jsx)(ge.a,rt(rt({style:at(b).BottomModalView,swipeDirection:a?["down"]:null,backdropTransitionOutTiming:0,keyboardDismissMode:"on-drag"},h),{},{children:Object(z.jsxs)(re.a,{style:{width:"95%",alignSelf:"center",height:j},children:[Object(z.jsx)(y.a,{style:[at(b).TopSectionView,{backgroundColor:t,height:c}],children:d}),u?Object(z.jsx)(C.a,{onPress:function(){return n()},style:[at(b).CancelBtn,{backgroundColor:t}],children:Object(z.jsx)(w.a,{style:[at(b).CancelBtnText,{color:"#1988f8"}],children:"Cancel"})}):null]})}))},at=function(e){return v.a.create({BottomModalView:{margin:0,justifyContent:"flex-end"},TopSectionView:{width:"100%",alignSelf:"center",alignItems:"center",justifyContent:"space-evenly",borderRadius:20,margin:15},CancelBtn:{alignSelf:"center",width:"100%",borderRadius:15,justifyContent:"center",alignItems:"center",height:65,marginBottom:15},CancelBtnText:{fontWeight:"700",textAlign:"center",fontSize:24}})};function it(e){var t=Object(c.useState)(!1),n=o()(t,2),r=n[0],a=n[1];return{isRefetchingByUser:r,refetchByUser:function(){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.prev=1,t.next=4,i.a.awrap(e());case 4:return t.prev=4,a(!1),t.finish(4);case 7:case"end":return t.stop()}}),null,null,[[1,,4,7]],Promise)}}}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}S.a.get("window");function lt(e){var t=e.navigation,n=Object(c.useState)(!1),r=o()(n,2),a=r[0],s=r[1],l=Object(c.useState)(!1),u=o()(l,2),h=u[0],b=u[1],f=Object(c.useState)(!1),g=o()(f,2),m=g[0],x=g[1],O=Object(c.useState)(!1),v=o()(O,2),S=v[0],k=v[1],P=Object(c.useRef)(Math.round((new Date(2023,1,5).getTime()-Date.now())/1e3)),B=D().theme,R=Object(d.b)();Object(Ve.p)(Object(c.useCallback)((function(){var e=!0;return e&&x(!1),function(){e=!1}}),[]));var W=Object(j.d)(["groups",p.a.auth().currentUser.uid],(function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).get().then((function(t){var n=t.data().groupCode;e=n.map((function(e){return{code:e.groupCode,groupName:e.groupName}}))})).catch((function(e){throw e})));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),null,null,null,Promise)}),{initialData:[],onSuccess:function(){return k(!0)}}),A=W.isLoading,E=W.isError,U=(W.error,W.refetch),V=W.data,L=it(U),N=L.isRefetchingByUser,M=L.refetchByUser;function H(){s(!a)}var G=function(){return Object(z.jsxs)(y.a,{style:[ut(B).listItem,ut(B).shadowProp,{flexDirection:"row",justifyContent:"left",opacity:.5,width:"60%",height:"10%",marginRight:50}],children:[Object(z.jsx)(T.a,{source:_e.a,style:ut(B).image}),Object(z.jsxs)(y.a,{style:{flexDirection:"column",width:"70%",justifyContent:"space-between"},children:[Object(z.jsx)(y.a,{style:{backgroundColor:B.grey5,width:"80%",height:"50%",borderRadius:15}}),Object(z.jsx)(y.a,{style:{backgroundColor:B.grey3,width:"50%",height:"30%",borderRadius:15}})]})]})},F=function(e){var n=e.groupName,r=e.groupCode;return Object(z.jsx)(C.a,{onPress:function(){return function(e,n){var r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return x(!0),o.next=3,i.a.awrap(p.a.firestore().collection("groups").doc(n).get().then((function(e){R(Pe(e.data().tentType))})).catch((function(e){})));case 3:return o.next=5,i.a.awrap(p.a.firestore().collection("groups").doc(n).collection("members").doc(p.a.auth().currentUser.uid).get().then((function(e){r=e.data().groupRole,R(Ie(e.data().name)),R(Be(r))})).catch((function(e){})));case 5:R(Te(n)),R(ke(e));try{t.navigate("GroupInfo",{groupCode:n,groupName:e,groupRole:r})}catch(a){}case 8:case"end":return o.stop()}}),null,null,null,Promise)}(n,r)},style:[ut(B).listItem,ut(B).shadowProp],disabled:m,children:Object(z.jsxs)(y.a,{style:{flexDirection:"row",justifyContent:"left"},children:[Object(z.jsx)(T.a,{source:_e.a,style:ut(B).image}),Object(z.jsxs)(y.a,{style:{flexDirection:"column"},children:[Object(z.jsx)(w.a,{style:[ut(B).listText,{fontSize:20,color:B.grey1}],children:n}),Object(z.jsx)(w.a,{style:[ut(B).listText,{color:B.grey4}],children:r})]})]})})};return A||!S?Object(z.jsx)(qe,{}):E?Object(z.jsx)($e,{navigation:t}):Object(z.jsxs)(y.a,{style:ut(B).startContainer,children:[Object(z.jsxs)(y.a,{style:ut(B).topBanner,children:[Object(z.jsx)(w.a,{style:ut(B).topText,children:"Welcome to Krzyzewskiville!"}),Object(z.jsx)(ne.a,{icon:"cog-outline",color:B.grey1,size:25,onPress:function(){return t.navigate("StackNavigator")},style:{marginRight:0}})]}),Object(z.jsxs)(y.a,{style:{flexDirection:"row",justifyContent:"space-between",width:"90%",alignItems:"center",marginBottom:5},children:[Object(z.jsx)(w.a,{style:ut(B).groupText,children:"Groups"}),Object(z.jsx)(C.a,{onPress:H,children:Object(z.jsxs)(y.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(z.jsx)(I.default,{name:"plus-circle-outline",color:B.primary,size:20}),Object(z.jsx)(w.a,{style:[ut(B).groupText,{fontSize:16,fontWeight:"700",color:B.primary,marginLeft:4}],children:"Add Group"})]})})]}),Object(z.jsx)(re.a,{style:{width:"100%",height:"60%"},children:0==V.length?Object(z.jsxs)(y.a,{style:{flex:1,justifyContent:"start",alignItems:"center",paddingTop:"10%"},children:[Object(z.jsx)(y.a,{style:{position:"absolute",height:80,width:80,transform:[{rotateX:"180deg"},{rotate:"90deg"}],right:"10%",top:"0%"},children:Object(z.jsx)((function(e){return Object(z.jsx)(Ge.a,st(st({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 700 700"},e),{},{children:Object(z.jsx)(He.Path,{fill:"#3a3b3c",d:"M423.06 204.3v-68.762l144.13 109.09-141.49 113.06-1.984-50.91c-86.613-13.223-217.52 31.734-291.57 117.02 37.023-124.3 103.14-223.47 290.91-219.5z",fillRule:"evenodd"})}))}),{})}),Object(z.jsx)(G,{}),Object(z.jsx)(G,{}),Object(z.jsx)(G,{}),Object(z.jsx)(w.a,{style:{color:B.grey1,fontSize:20,fontWeight:"700",marginTop:"10%"},children:"Create or Join a Group"})]}):Object(z.jsx)(Ne.a,{data:V,renderItem:function(e){var t=e.item;return Object(z.jsx)(F,{groupName:t.groupName,groupCode:t.code})},keyExtractor:function(e){return e.code},refreshControl:Object(z.jsx)(Le.a,{enabled:!0,refreshing:N,onRefresh:M}),style:{width:"100%",flexGrow:1,height:"100%"},showsVerticalScrollIndicator:!1})}),"LyenTwoXvUSGJvT14cpQUegAZXp1"==p.a.auth().currentUser.uid?Object(z.jsx)(w.a,{style:{textAlign:"center"},children:"**This is a demo account and is only meant for viewing"}):null,Object(z.jsx)(ot,{isVisible:h,onBackdropPress:function(){b(!h)},swipeDown:!1,height:200,userStyle:"light",children:Object(z.jsxs)(y.a,{style:{justifyContent:"center",alignItems:"center",flex:1,width:"100%"},children:[Object(z.jsx)(w.a,{style:{position:"absolute",top:0},children:"Countdown to UNC"}),Object(z.jsx)(Me.a,{size:30,until:P.current,onFinish:function(){return alert("Finished")},digitStyle:{backgroundColor:"#FFF",borderWidth:2,borderColor:B.primary},digitTxtStyle:{color:B.primary},timeLabelStyle:{color:"black",fontWeight:"bold"},separatorStyle:{color:B.primary,alignSelf:"center",flex:1,paddingTop:15,justifyContent:"center"},showSeparator:!0})]})}),Object(z.jsx)(ge.a,{isVisible:a,onBackdropPress:function(){return s(!1)},backdropTransitionOutTiming:0,keyboardDismissMode:"on-drag",children:Object(z.jsxs)(re.a,{style:ut(B).popUp,children:[Object(z.jsx)(w.a,{style:ut(B).popUpHeader,children:"Add Group"}),Object(z.jsx)(C.a,{onPress:function(){H(),t.navigate("JoinGroup")},style:{width:"100%",alignSelf:"center"},children:Object(z.jsxs)(y.a,{style:[ut(B).popButton,{borderBottomLeftRadius:3,borderBottomRightRadius:3,borderTopLeftRadius:11,borderTopRightRadius:11}],children:[Object(z.jsx)(I.default,{name:"account-plus-outline",color:"white",size:20,style:{marginLeft:10}}),Object(z.jsx)(w.a,{style:ut(B).buttonText,children:"Join Group"})]})}),Object(z.jsx)(C.a,{onPress:function(){H(),t.navigate("CreateGroup")},style:{width:"100%",alignSelf:"center"},children:Object(z.jsxs)(y.a,{style:[ut(B).popButton,{borderBottomLeftRadius:11,borderBottomRightRadius:11,borderTopLeftRadius:3,borderTopRightRadius:3}],children:[Object(z.jsx)(I.default,{name:"account-circle-outline",color:"white",size:20,style:{marginLeft:10}}),Object(z.jsx)(w.a,{style:ut(B).buttonText,children:"Create New Group"})]})})]})})]})}var ut=function(e){return v.a.create({startContainer:{flexDirection:"column",flex:1,backgroundColor:"#f5f7fa",alignItems:"center",marginTop:"0%"},topBanner:{alignItems:"center",marginTop:50,marginBottom:35,width:"100%",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:"5%"},topText:{textAlign:"left",fontWeight:"800",fontSize:28,color:e.grey1,width:"70%"},groupText:{fontSize:24,fontWeight:"700",color:e.grey1},popUp:{width:"90%",height:160,backgroundColor:e.secondary,alignSelf:"center",alignItems:"center",borderRadius:20,margin:15},popUpHeader:{fontWeight:"600",color:e.text1,height:40,width:"89%",marginTop:15,textAlign:"center",fontSize:24},popButton:{flexDirection:"row",width:"85%",height:40,marginVertical:2,alignSelf:"center",backgroundColor:e.tertiary,justifyContent:"flex-start",alignItems:"center"},buttonText:{fontSize:16,color:e.text1,textAlign:"left",marginLeft:15},image:{width:45,height:39,alignSelf:"center",marginLeft:10,marginRight:20},listItem:{backgroundColor:"#fff",padding:8,marginVertical:7,borderRadius:10,alignSelf:"center",borderWidth:.3,borderColor:"#d8d9dc",width:"90%",justifyContent:"flex-start"},listText:{fontSize:15,fontWeight:"500",color:e.text2},shadowProp:{shadowColor:"#171717",shadowOffset:{width:-2,height:4},shadowOpacity:.2,shadowRadius:5,elevation:20}})};var dt=function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVXZ",n=[],r=0;r<e;r++)n.push(t[Math.floor(Math.random()*t.length)]);return n.join("")};function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=new Array(336);jt.fill(!0);var ft=S.a.get("window");function gt(e){var t,n=e.navigation,r=Object(c.useState)({groupName:"",tentType:"",groupCode:"",userName:"",tentType:"Select Tent Type"}),a=o()(r,2),s=a[0],l=a[1],u=Object(c.useState)(!1),h=o()(u,2),b=h[0],f=h[1],g=Object(c.useState)({window:ft}),m=o()(g,2),x=m[0],v=m[1],P=D().theme,B=Object(d.b)(),R=Object(j.e)(),W=p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid),A=Object(d.c)((function(e){return e.user.currentUser.username}));function E(){f(!b)}return Object(c.useEffect)((function(){var e=S.a.addEventListener("change",(function(e){var t=e.window;v({window:t})}));return function(){return null==e?void 0:e.remove()}})),Object(Ve.p)(Object(c.useCallback)((function(){var e,t=!0;return t&&l(bt(bt({},s),{},{groupCode:(e=8,dt(e)),userName:A})),function(){t=!1}}),[])),Object(z.jsxs)(y.a,{style:{flex:1,backgroundColor:P.background},children:[Object(z.jsx)(re.a,{style:{flex:1},children:Object(z.jsxs)(k.a,{behavior:"padding",style:{flex:1},children:[Object(z.jsxs)(y.a,{style:mt(P).groupContainer,children:[Object(z.jsxs)(y.a,{style:mt(P).groupHeader,children:[Object(z.jsx)(w.a,{style:mt(P).btnTxt,onPress:function(){return n.goBack()},children:"Cancel"}),Object(z.jsx)(w.a,{style:{fontWeight:"500",fontSize:20},children:"Create Group"}),Object(z.jsx)(C.a,{onPress:function(){i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("LyenTwoXvUSGJvT14cpQUegAZXp1"!=p.a.auth().currentUser.uid){e.next=4;break}return B(L("This is a demo account")),B(V()),e.abrupt("return");case 4:if(""!=s.groupName){e.next=8;break}return B(V()),B(L("Enter group name")),e.abrupt("return");case 8:if("Select Tent Type"!=s.tentType){e.next=12;break}return B(V()),B(L("Select tent type")),e.abrupt("return");case 12:if(""!=s.userName){e.next=16;break}return B(V()),B(L("Enter a nickname")),e.abrupt("return");case 16:return(t=p.a.firestore().collection("groups").doc(s.groupCode)).set({name:s.groupName,tentType:s.tentType,groupSchedule:[],memberArr:[],previousSchedule:[],previousMemberArr:[]}).catch((function(e){})),t.collection("members").doc(p.a.auth().currentUser.uid).set({groupRole:"Creator",name:s.userName,inTent:!1,availability:jt,scheduledHrs:0,shifts:[]}).catch((function(e){})),W.update({groupCode:p.a.firestore.FieldValue.arrayUnion({groupCode:s.groupCode,groupName:s.groupName})}).catch((function(e){})),B(Te(s.groupCode)),B(ke(s.groupName)),B(Ie(s.userName)),B(Pe(s.tentType)),B(Be("Creator")),e.next=27,i.a.awrap(W.get().then((function(e){return e.exists&&B(Ce(e.data())),e})));case 27:R.invalidateQueries(["groups",p.a.auth().currentUser.uid]),n.navigate("GroupInfo",{groupCode:s.groupCode,groupName:s.groupName,groupRole:"Creator"});case 29:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(z.jsx)(w.a,{style:mt(P).btnTxt,children:"Create"})})]}),Object(z.jsx)(y.a,{style:{width:"90%"},children:Object(z.jsx)(w.a,{style:mt(P).headerText,children:"Group Name"})}),Object(z.jsx)(O.a,{style:mt(P).textInput,placeholder:"Enter Group Name",value:s.groupName,maxLength:28,onChangeText:function(e){return l(bt(bt({},s),{},{groupName:e}))},autoCorrect:!1}),Object(z.jsx)(w.a,{style:[mt(P).headerText,{marginTop:20}],children:"Group Code"}),Object(z.jsx)(y.a,{style:[mt(P).textInput,{backgroundColor:P.background,height:60,width:"90%",justifyContent:"center"}],children:Object(z.jsx)(w.a,{selectable:!0,style:{textAlign:"center",fontSize:26,fontWeight:"700"},children:s.groupCode})}),Object(z.jsx)(w.a,{style:[mt(P).headerText,{marginTop:20}],children:"Tent Type"}),Object(z.jsxs)(C.a,{onPress:E,style:mt(P).selectTent,children:[Object(z.jsx)(w.a,{style:{textAlign:"center",fontSize:20,fontWeight:"400",color:P.grey1},children:s.tentType}),Object(z.jsx)(I.default,{name:"chevron-down",color:P.icon2,size:30,style:{marginLeft:10}})]}),Object(z.jsx)(w.a,{style:[mt(P).headerText,{marginTop:20}],children:"Nickname"}),Object(z.jsx)(O.a,{style:mt(P).textInput,value:s.userName,placeholder:"Enter Nickname",maxLength:11,onChangeText:function(e){return l(bt(bt({},s),{},{userName:e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").replace(/[^a-z0-9]/gi,"")}))},clearTextOnFocus:!0})]}),Object(z.jsxs)(ot,{isVisible:b,onBackdropPress:E,onSwipeComplete:E,toggleModal:E,cancelButton:!0,height:180,userStyle:"light",children:[Object(z.jsx)(C.a,{onPress:function(){l(bt(bt({},s),{},{tentType:"Black"})),E()},style:mt(P).tentChangeListItem,children:Object(z.jsx)(w.a,{style:mt(P).modalText,children:"Black"})}),Object(z.jsx)(C.a,{onPress:function(){l(bt(bt({},s),{},{tentType:"Blue"})),E()},style:mt(P).tentChangeListItem,children:Object(z.jsx)(w.a,{style:mt(P).modalText,children:"Blue"})}),Object(z.jsx)(C.a,{onPress:function(){l(bt(bt({},s),{},{tentType:"White"})),E()},style:[mt(P).tentChangeListItem,{borderBottomWidth:0}],children:Object(z.jsx)(w.a,{style:mt(P).modalText,children:"White"})})]})]})}),Object(z.jsxs)(y.a,{style:{marginTop:"auto",width:"100%"},children:[Object(z.jsx)(y.a,{style:[mt(P).triangle,{borderRightWidth:x.window.width,borderTopWidth:x.window.height/6}]}),Object(z.jsx)(T.a,{source:le.a,style:{position:"absolute",marginVertical:10,zIndex:1,height:129,width:113,alignSelf:"center"}}),Object(z.jsx)(y.a,{style:{width:"100%",height:x.window.height/15,backgroundColor:P.primary}})]})]})}var mt=function(e){return v.a.create({groupContainer:{flexDirection:"column",flex:1,alignItems:"center",backgroundColor:e.background},groupHeader:{flexDirection:"row",width:"94%",height:"10%",alignItems:"center",justifyContent:"space-between",marginBottom:20},backgroundImage:{flex:1,alignItems:"center",flexDirection:"column",height:"100%",width:"100%",resizeMode:"cover"},topBanner:{alignItems:"center",justifyContent:"flex-end",flexDirection:"row",marginTop:10,marginBottom:12,width:"90%"},headerText:{textAlign:"left",width:"90%",fontSize:20,marginBottom:10,fontWeight:"700",color:e.grey1},textContainer:{height:"70%",width:"80%",marginVertical:50},text:{color:e.text1,fontSize:22,fontWeight:"700"},centerText:{color:e.text1,fontSize:36,fontWeight:"700",textAlign:"center"},textInput:{backgroundColor:e.background,padding:10,width:"90%",fontSize:20,fontWeight:"400",borderRadius:8,borderColor:e.grey2,borderWidth:2},selectTent:{width:"90%",height:45,borderRadius:8,borderWidth:2,borderColor:e.grey2,backgroundColor:e.background,justifyContent:"center",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:10},tentChangeListItem:{flexDirection:"row",height:"33%",width:"95%",justifyContent:"center",alignSelf:"center",alignItems:"center",borderBottomWidth:1,borderColor:"#cfcfcf"},modalText:{fontSize:18,fontWeight:"500",color:e.text2},picker:{width:"90%",height:"20%"},pickerItem:{height:"100%"},btnTxt:{fontSize:18,color:e.primary,fontWeight:"600"},triangle:{height:0,width:0,borderTopWidth:150,borderRightColor:e.primary,borderTopColor:"transparent",transform:[{scaleX:-1}]}})},xt=new Array(336);xt.fill(!0);var pt=S.a.get("window");function yt(e){var t=e.navigation,n=Object(c.useState)(""),r=o()(n,2),a=r[0],s=r[1],l=Object(c.useState)(""),u=o()(l,2),h=u[0],b=u[1],f=Object(c.useState)({window:pt}),g=o()(f,2),m=g[0],x=g[1],v=D().theme,I="",P=Object(j.e)(),B=Object(d.b)(),R=Object(d.c)((function(e){return e.user.currentUser.username}));return Object(c.useEffect)((function(){var e=S.a.addEventListener("change",(function(e){var t=e.window;x({window:t})}));return function(){return null==e?void 0:e.remove()}})),Object(Ve.p)(Object(c.useCallback)((function(){var e=!0;return e&&(b(R),s("")),function(){e=!1}}),[])),Object(z.jsxs)(y.a,{style:{flex:1,backgroundColor:v.background},children:[Object(z.jsx)(re.a,{style:{flex:1},children:Object(z.jsx)(k.a,{behavior:"padding",style:{flex:1},children:Object(z.jsxs)(y.a,{style:Ot(v).container,children:[Object(z.jsxs)(y.a,{style:Ot(v).header,children:[Object(z.jsx)(w.a,{style:Ot(v).buttonText,onPress:function(){return t.goBack()},children:"Cancel"}),Object(z.jsx)(w.a,{style:{fontWeight:"500",fontSize:20},children:"Join Group"}),Object(z.jsx)(C.a,{onPress:function(){!function(e){var t,n;i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("LyenTwoXvUSGJvT14cpQUegAZXp1"!=p.a.auth().currentUser.uid){r.next=4;break}return B(L("This is a demo account")),B(V()),r.abrupt("return");case 4:if(""!=a){r.next=8;break}return B(L("Enter group code")),B(V()),r.abrupt("return");case 8:if(""!=h){r.next=12;break}return B(L("Enter a nickname")),B(V()),r.abrupt("return");case 12:return t=p.a.firestore().collection("groups").doc(a),n=p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid),r.next=16,i.a.awrap(t.get().then((function(r){return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!r.exists){o.next=15;break}return o.next=3,i.a.awrap(t.collection("members").get().then((function(e){if(12==e.size)return B(V()),B(L("Group already full")),"full"})));case 3:if("full"!=o.sent){o.next=6;break}return o.abrupt("return");case 6:return o.next=8,i.a.awrap(t.collection("members").doc(p.a.auth().currentUser.uid).get().then((function(e){if(e.exists)return B(L("Already joined this group")),B(V()),"exists"})));case 8:if("exists"!=o.sent){o.next=11;break}return o.abrupt("return");case 11:return t.collection("members").where("name","==",h).get().then((function(o){return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!o.empty){c.next=17;break}return I=r.data().name,B(Te(a)),B(Ie(h)),B(ke(I)),B(Pe(r.data().tentType)),B(Be("Member")),c.next=9,i.a.awrap(n.update({groupCode:p.a.firestore.FieldValue.arrayUnion({groupCode:a,groupName:r.data().name})}));case 9:return c.next=11,i.a.awrap(t.collection("members").doc(p.a.auth().currentUser.uid).set({groupRole:"Member",name:h,inTent:!1,availability:xt,scheduledHrs:0,shifts:[]}));case 11:return c.next=13,i.a.awrap(n.get().then((function(e){B(Ce(e.data()))})));case 13:P.invalidateQueries(["groups",p.a.auth().currentUser.uid]),e.navigate("GroupInfo",{groupCode:a,groupName:I,groupRole:"Member"}),c.next=19;break;case 17:B(V()),B(L("Name already taken"));case 19:case"end":return c.stop()}}),null,null,null,Promise)})),o.abrupt("return");case 15:return B(V()),B(L("Invalid group code: group doesn't exist")),o.abrupt("return");case 18:case"end":return o.stop()}}),null,null,null,Promise)})));case 16:case"end":return r.stop()}}),null,null,null,Promise)}(t)},children:Object(z.jsx)(w.a,{style:Ot(v).buttonText,children:"Join"})})]}),Object(z.jsx)(y.a,{style:{flexDirection:"row",width:"90%",marginBottom:10},children:Object(z.jsx)(w.a,{style:Ot(v).groupText,children:"Group Code"})}),Object(z.jsx)(O.a,{style:Ot(v).textInput,onChangeText:function(e){return s(e.trim())},value:a,placeholder:"Enter Group Code",autoCorrect:!1}),Object(z.jsx)(y.a,{style:{flexDirection:"row",width:"90%",marginBottom:10,marginTop:55},children:Object(z.jsx)(w.a,{style:Ot(v).groupText,children:"Nickname"})}),Object(z.jsx)(O.a,{style:Ot(v).textInput,value:h,placeholder:"Enter Nickname",maxLength:11,onChangeText:function(e){return b(e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").replace(/[^a-z0-9]/gi,""))},clearTextOnFocus:!0,autoCorrect:!1})]})})}),Object(z.jsxs)(y.a,{style:{marginTop:"auto",width:"100%",backgroundColor:v.background},children:[Object(z.jsx)(y.a,{style:[Ot(v).triangle,{borderRightWidth:m.window.width,borderTopWidth:m.window.height/5}]}),Object(z.jsx)(T.a,{source:le.a,style:{position:"absolute",marginVertical:20,zIndex:1,height:161,width:140,alignSelf:"center"}}),Object(z.jsx)(y.a,{style:{width:"100%",height:m.window.height/10,backgroundColor:v.primary}})]})]})}var Ot=function(e){return v.a.create({container:{flexDirection:"column",flex:1,backgroundColor:e.background,alignItems:"center",marginTop:"0%"},header:{flexDirection:"row",width:"94%",height:"10%",alignItems:"center",justifyContent:"space-between",marginBottom:20},textInput:{backgroundColor:e.background,padding:10,width:"90%",fontSize:20,fontWeight:"500",borderRadius:8,borderColor:e.grey2,borderWidth:2},groupText:{width:"90%",fontSize:20,fontWeight:"700",color:e.grey1},buttonText:{fontSize:18,color:e.primary,fontWeight:"600"},shadowProp:{shadowColor:"#171717",shadowOffset:{width:-2,height:4},shadowOpacity:.2,shadowRadius:5,elevation:20},triangle:{height:0,width:0,borderTopWidth:150,borderRightColor:e.primary,borderTopColor:"transparent",transform:[{scaleX:-1}]}})},wt=n(121),vt=n(222),Ct=n(259),St=n(281),Tt=n(379),kt=["height","color","swipeDown","barSize","userStyle","children"];function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=Object(c.createContext)();function zt(){var e=Object(c.useContext)(Bt);if(!e)throw new Error("useModal must be used in or within a Modal Component");return e}var Rt=function(e){var t,n,r=e.height,o=void 0===r?"50%":r,a=e.color,i=e.swipeDown,c=void 0===i||i,s=e.barSize,l=void 0===s?"default":s,u=e.userStyle,d=e.children,h=fe()(e,kt),b=D().theme;return"light"==u?(t=b.background,n="black"):(t="#565656",n="#fff"),void 0!==a&&(t=a),Object(z.jsx)(Bt.Provider,{value:{headerColor:n},children:Object(z.jsx)(ge.a,Pt(Pt({style:Dt(b).BottomModalView,swipeDirection:c?"down":null,backdropTransitionOutTiming:0,keyboardDismissMode:"on-drag"},h),{},{children:Object(z.jsxs)(re.a,{style:[Dt(b).ModalContainer,{height:o,backgroundColor:t}],children:["default"==l?Object(z.jsx)(y.a,{style:[Dt(b).modalBar,{backgroundColor:n}]}):"small"==l?Object(z.jsx)(y.a,{style:[Dt(b).modalSmallBar,{backgroundColor:n}]}):null,d]})}))})};Rt.SecondContainer=function(e){var t,n,r=e.children,o=e.color,a=e.size;t="default"==(void 0===a?"default":a)?"85%":"70%";var i=D().theme;return n="black"==zt().headerColor?"#f5f5f5":"#757575",void 0!==o&&(n=o),Object(z.jsx)(y.a,{style:[Dt(i).ModalSecondaryView,{backgroundColor:n,height:t}],children:r})};Rt.Header=function(e){var t=e.children,n=e.verticalMargin,r=void 0===n?10:n,o=e.fontSize,a=void 0===o?20:o,i=D().theme,c=zt().headerColor;return Object(z.jsx)(w.a,{style:[Dt(i).ModalHeader,{marginVertical:r,fontSize:a,color:c}],children:t})};var Dt=function(e){return v.a.create({BottomModalView:{margin:0,justifyContent:"flex-end"},ModalContainer:{width:"100%",height:"45%",borderTopRightRadius:30,borderTopLeftRadius:30,alignItems:"center",justifyContent:"space-between"},modalSmallBar:{height:2,marginTop:4,width:"15%",borderRadius:25,backgroundColor:"white"},modalBar:{height:4,marginTop:8,width:"22%",borderRadius:25,backgroundColor:"white"},ModalHeader:{fontWeight:"700",color:"white",textAlign:"center",fontSize:20},ModalSecondaryView:{width:"100%",height:"85%",paddingHorizontal:35,paddingVertical:20,borderTopRightRadius:40,borderTopLeftRadius:40,marginBottom:0},ModalText:{color:"white",marginVertical:5,textAlign:"left",fontSize:16}})},Wt=n(315),At=n(374);function Et(e){var t=e.params,n=e.navigation,r=e.toggleModal,a=t.groupCode,s=t.groupName,l=t.userName,u=t.tentType,h=t.groupRole,b=Object(c.useState)(!1),f=o()(b,2),g=f[0],m=f[1],x=Object(c.useState)(!1),v=o()(x,2),S=v[0],T=v[1],k=Object(c.useState)(!1),P=o()(k,2),B=P[0],R=P[1],W=Object(c.useState)(""),A=o()(W,2),E=A[0],U=A[1],N=Object(c.useState)("LyenTwoXvUSGJvT14cpQUegAZXp1"==p.a.auth().currentUser.uid),M=o()(N,2),H=M[0],G=(M[1],Object(c.useState)(!1)),F=o()(G,2),_=F[0],X=F[1],Q=Object(c.useState)(""),J=o()(Q,2),q=J[0],Z=J[1],K=Object(d.b)(),Y=D().theme,$=Object(j.e)(),ee=p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid),te=p.a.firestore().collection("groups").doc(a),ne=function(e){return Object(j.c)((function(e){return oe(e)}),{onError:function(e){},onSuccess:function(){$.invalidateQueries(["group",e])}})}(a);function oe(e){var t,n,o,c,d,h;return i.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(t=e.newGroupName,n=e.newUserName,o=e.newTentType,h=!0,t==s&&o==u){b.next=10;break}return b.next=5,i.a.awrap(ee.get().then((function(e){d=e.data().groupCode,c=d.findIndex((function(e){return e.groupCode==a})),d[c]={groupCode:a,groupName:t}})));case 5:ee.update({groupCode:d}).then((function(){})).catch((function(e){U("Error saving group name"),ce()})),te.update({name:t,tentType:o}).then((function(){})).catch((function(e){U("Error saving group settings"),ce()})),$.invalidateQueries(["groups",p.a.auth().currentUser.uid]),K(Pe(o)),K(ke(t));case 10:n!=l?te.collection("members").where("name","==",n).get().then((function(e){if(!e.empty)return U("Nickname taken"),ce(),void(h=!1);te.collection("members").doc(p.a.auth().currentUser.uid).update({name:n}).then((function(){})).catch((function(e){U("Error saving user name"),ce()})),K(Ie(n))})).then((function(){h&&(K(V()),K(L("Saved")),r())})):h&&(K(V()),K(L("Saved")),r());case 11:case"end":return b.stop()}}),null,null,null,Promise)}function ae(){m(!g)}function ie(){T(!S)}function ce(){R(!B)}return Object(z.jsxs)(y.a,{style:Ut(Y).settingsContainer,children:[Object(z.jsx)(At.a,{initialValues:{newUserName:l,newGroupName:s,newTentType:u},onSubmit:function(e){return ne.mutate(e)},style:{borderWidth:1},children:function(e){var t=e.handleChange,n=e.handleBlur,o=e.handleSubmit,a=e.setFieldValue,i=e.setFieldTouched,c=e.values;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(y.a,{style:Ut(Y).topBanner,children:[Object(z.jsx)(C.a,{onPress:function(){X(!0),r()},disabled:_,children:Object(z.jsx)(w.a,{style:{fontSize:18,fontWeight:"700",color:Y.primary},children:"Cancel"})}),Object(z.jsx)(w.a,{style:[Ut(Y).headerText,{color:Y.text2,alignSelf:"center",fontSize:26}],children:"Settings"}),Object(z.jsx)(C.a,{onPress:o,disabled:H,children:Object(z.jsx)(w.a,{style:{fontSize:18,fontWeight:"700",color:H?"#00000050":Y.primary},children:"Save"})})]}),Object(z.jsxs)(y.a,{style:Ut(Y).headerContainer,children:[Object(z.jsx)(w.a,{style:Ut(Y).headerText,children:"Nickname"}),Object(z.jsx)(I.default,{name:"account-edit",color:Y.grey2,size:20,style:{marginRight:8}})]}),Object(z.jsx)(O.a,{name:"newUserName",placeholder:"Nickname",style:Ut(Y).textInput,onChangeText:t("newUserName"),onBlur:n("newUserName"),value:c.newUserName}),"Creator"===h||"Admin"==h?Object(z.jsxs)(y.a,{style:{width:"100%",alignItems:"center",height:"55%"},children:[Object(z.jsxs)(y.a,{style:Ut(Y).headerContainer,children:[Object(z.jsx)(w.a,{style:Ut(Y).headerText,children:"Group Name"}),Object(z.jsx)(I.default,{name:"circle-edit-outline",color:Y.grey2,size:20,style:{marginRight:8}})]}),Object(z.jsx)(O.a,{name:"newGroupName",placeholder:"Group Name",style:Ut(Y).textInput,onChangeText:t("newGroupName"),onBlur:n("newGroupName"),value:c.newGroupName}),Object(z.jsxs)(y.a,{style:Ut(Y).headerContainer,children:[Object(z.jsx)(w.a,{style:Ut(Y).headerText,children:"Tent Type"}),Object(z.jsx)(I.default,{name:"home-edit",color:Y.grey2,size:20,style:{marginRight:8}})]}),Object(z.jsxs)(C.a,{onPress:ae,style:Ut(Y).tentChangeBtn,children:[Object(z.jsx)(w.a,{style:Ut(Y).modalText,children:c.newTentType}),Object(z.jsx)(I.default,{name:"chevron-down",color:Y.grey2,size:20})]})]}):null,"Creator"==h||"Admin"==h?Object(z.jsxs)(ot,{isVisible:g,onBackdropPress:ae,onSwipeComplete:ae,toggleModal:ae,cancelButton:!0,height:180,userStyle:"dark",children:[Object(z.jsx)(C.a,{onPress:function(){a("newTentType","Black"),i("newTentType"),ae()},style:Ut(Y).tentChangeListItem,children:Object(z.jsx)(w.a,{style:[Ut(Y).modalText,{color:Y.text1,marginRight:15}],children:"Black"})}),Object(z.jsx)(C.a,{onPress:function(){a("newTentType","Blue"),i("newTentType"),ae()},style:Ut(Y).tentChangeListItem,children:Object(z.jsx)(w.a,{style:[Ut(Y).modalText,{color:Y.text1,marginRight:15}],children:"Blue"})}),Object(z.jsx)(C.a,{onPress:function(){a("newTentType","White"),i("newTentType"),ae()},style:[Ut(Y).tentChangeListItem,{borderBottomWidth:0}],children:Object(z.jsx)(w.a,{style:[Ut(Y).modalText,{color:Y.text1,marginRight:15}],children:"White"})})]}):null]})}}),Object(z.jsx)(C.a,{style:Ut(Y).leaveButton,onPress:ie,children:"Creator"===h?Object(z.jsx)(w.a,{style:{color:Y.error,fontSize:20,fontWeight:"500"},children:"Delete Group"}):Object(z.jsx)(w.a,{style:{color:Y.error,fontSize:20,fontWeight:"500"},children:"Leave Group"})}),Object(z.jsx)(ge.a,{isVisible:S,onBackdropPress:function(){return T(!1)},backdropTransitionOutTiming:0,keyboardDismissMode:"on-drag",children:Object(z.jsxs)(re.a,{style:{width:"78%",height:230,backgroundColor:Y.white2,alignSelf:"center",alignItems:"center",borderRadius:20},children:[Object(z.jsxs)(y.a,{style:{width:"100%",height:"80%",borderBottomWidth:1,borderBottomColor:"#cfcfcf",alignItems:"center",justifyContent:"space-between"},children:["Creator"===h?Object(z.jsx)(w.a,{style:[Ut(Y).deleteText,{paddingTop:10}],children:"Are you sure you want to DELETE this group? This action CANNOT be undone."}):Object(z.jsx)(w.a,{style:[Ut(Y).deleteText,{paddingTop:10}],children:"Are you sure you want to LEAVE this group? This will action CANNOT be undone."}),Object(z.jsxs)(w.a,{style:[Ut(Y).deleteText,{fontSize:14,fontWeight:"400"}],children:["Please type ",Object(z.jsx)(w.a,{style:{fontWeight:"600"},children:s})," to confirm"]}),Object(z.jsx)(O.a,{style:[Ut(Y).textInput,{backgroundColor:Y.white1,fontSize:16,fontWeight:"400",marginBottom:10,borderWidth:.5,borderColor:Y.popOutBorder}],placeholder:"Enter Group Name",value:q,onChangeText:function(e){return Z(e)},autoCorrect:!1,autoCapitalize:"none"})]}),Object(z.jsxs)(y.a,{style:{flexDirection:"row",width:"100%",height:"20%",alignItems:"center",justifyContent:"space-between"},children:[Object(z.jsx)(C.a,{style:{width:"50%",height:"98%",justifyContent:"center",borderRightColor:"#cfcfcf",borderRightWidth:1},onPress:ie,children:Object(z.jsx)(w.a,{style:{textAlign:"center",color:Y.primary,fontSize:17,fontWeight:"500"},children:"Cancel"})}),Object(z.jsx)(C.a,{style:{width:"50%",height:"98%",justifyContent:"center"},onPress:function(){r(),i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("LyenTwoXvUSGJvT14cpQUegAZXp1"!=p.a.auth().currentUser.uid){e.next=4;break}return K(L("This is a demo account")),K(V()),e.abrupt("return");case 4:if(q!=s){e.next=19;break}if("Creator"!==h){e.next=12;break}return e.next=8,i.a.awrap(te.collection("members").get().then((function(e){e.forEach((function(e){p.a.firestore().collection("users").doc(e.id).update({groupCode:p.a.firestore.FieldValue.arrayRemove({groupCode:a,groupName:s})}).catch((function(e){}))}))})));case 8:te.collection("members").get().then((function(e){e.forEach((function(e){e.ref.delete().catch((function(e){}))}))})).catch((function(e){})),te.delete().then((function(){})).catch((function(e){})),e.next=15;break;case 12:return e.next=14,i.a.awrap(ee.update({groupCode:p.a.firestore.FieldValue.arrayRemove({groupCode:a,groupName:s})}));case 14:te.collection("members").doc(p.a.auth().currentUser.uid).delete().then((function(){})).catch((function(e){}));case 15:$.invalidateQueries(["groups",p.a.auth().currentUser.uid]),n.navigate("Home"),e.next=21;break;case 19:K(L("Group Name is incorrect")),K(V());case 21:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(z.jsx)(w.a,{style:{textAlign:"center",color:Y.error,fontSize:17,fontWeight:"500"},children:"Delete"})})]})]})}),Object(z.jsx)(Wt.a,{visible:B,onDismiss:function(){return R(!1)},wrapperStyle:{top:0},duration:2e3,children:Object(z.jsx)(w.a,{style:{textAlign:"center",color:Y.text1},children:E})})]})}var Ut=function(e){return v.a.create({settingsContainer:{flexDirection:"column",alignItems:"center",backgroundColor:e.background,width:"100%",height:"100%",borderTopRightRadius:20,borderTopLeftRadius:20},topBanner:{flexDirection:"row",backgroundColor:e.background,alignItems:"center",justifyContent:"space-between",marginBottom:30,width:"100%",paddingVertical:10,borderBottomWidth:.5,borderColor:e.popOutBorder,borderTopRightRadius:20,borderTopLeftRadius:20,paddingHorizontal:20},headerContainer:{flexDirection:"row",width:"90%",justifyContent:"space-between",marginBottom:15},headerText:{fontSize:20,fontWeight:"700",color:e.grey2},modalText:{fontSize:18,fontWeight:"500"},textInput:{backgroundColor:"#fff",paddingVertical:10,paddingHorizontal:15,width:"90%",fontSize:18,fontWeight:"500",textAlign:"left",borderRadius:15,marginBottom:23},tentChangeListItem:{flexDirection:"row",height:"33%",width:"95%",justifyContent:"center",alignSelf:"center",alignItems:"center",borderBottomWidth:1,borderColor:"#cfcfcf"},tentChangeBtn:{flexDirection:"row",width:"90%",height:45,backgroundColor:"#fff",alignItems:"center",justifyContent:"space-between",borderRadius:15,paddingHorizontal:15},BottomModalView:{margin:0,justifyContent:"flex-end"},leaveButton:{backgroundColor:"#fff",borderRadius:15,padding:15,position:"absolute",bottom:10,width:"90%",alignItems:"center",borderWidth:.5,borderColor:e.popOutBorder},deleteText:{width:"90%",textAlign:"center",fontWeight:"600",fontSize:16}})};function Vt(e){var t=e.navigation,n=Object(d.c)((function(e){return e.user.currGroupCode})),r=Object(d.c)((function(e){return e.user.currGroupName})),a=Object(d.c)((function(e){return e.user.currGroupRole})),s=Object(d.c)((function(e){return e.user.currUserName})),l=Object(d.c)((function(e){return e.user.currTentType})),u=Object(c.useState)(!1),h=o()(u,2),b=h[0],f=h[1],g=Object(c.useState)(!1),m=o()(g,2),x=m[0],O=m[1],v=Object(c.useState)(!1),S=o()(v,2),T=S[0],k=S[1],P=Object(c.useState)(!1),B=o()(P,2),R=B[0],W=B[1],A=Object(c.useRef)({}),E=Object(Ct.c)({Merriweather_400Regular:Ct.a,Merriweather_700Bold:Ct.b,Montserrat_400Regular:St.a,Montserrat_700Bold:St.b,OpenSans_400Regular:Tt.a}),U=o()(E,1)[0],V=D().theme;function L(){f(!b)}function N(){O(!x)}function M(){k(!T)}function H(){wt.a.dismiss(),W(!R)}var G=Object(j.d)(["group",n],(function(){return function(e){var t,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=p.a.firestore().collection("groups").doc(e).collection("members"),n=[{}],r.next=4,i.a.awrap(t.where("inTent","==",!0).get().then((function(e){e.forEach((function(e){var t=e.data().name,r=e.data().inTent,o=e.data().scheduledHrs,a=e.data().groupRole,i=e.id;e.id==p.a.auth().currentUser.uid?n[0]={id:i,name:t,inTent:r,hours:o,role:a}:n.push({id:i,name:t,inTent:r,hours:o,role:a})}))})).catch((function(e){throw e})));case 4:return r.next=6,i.a.awrap(t.where("inTent","!=",!0).get().then((function(e){e.forEach((function(e){var t=e.data().name,r=e.data().inTent,o=e.data().scheduledHrs,a=e.data().groupRole,i=e.id;e.id==p.a.auth().currentUser.uid?n[0]={id:i,name:t,inTent:r,hours:o,role:a}:n.push({id:i,name:t,inTent:r,hours:o,role:a})}))})).catch((function(e){throw e})));case 6:return r.abrupt("return",n);case 7:case"end":return r.stop()}}),null,null,null,Promise)}(n)}),{initialData:[]}),F=G.isLoading,_=G.isError,X=(G.error,G.data),Q=it(G.refetch),J=Q.isRefetchingByUser,q=Q.refetchByUser;var Z=function(e){var t=Object(j.e)();return Object(j.c)((function(){return function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(p.a.firestore().collection("groups").doc(e).collection("members").doc(A.current.id).delete().then((function(){})).catch((function(e){})));case 2:p.a.firestore().collection("users").doc(A.current.id).update({groupCode:p.a.firestore.FieldValue.arrayRemove({groupCode:e,groupName:r})}).catch((function(e){})),L();case 4:case"end":return t.stop()}}),null,null,null,Promise)}(e)}),{onError:function(e){},onSuccess:function(){t.invalidateQueries(["group",e])}})}(n);var K=function(e){var t=Object(j.e)();return Object(j.c)((function(e){return function(e){var t=e.groupRole,n=e.groupCode;p.a.firestore().collection("groups").doc(n).collection("members").doc(A.current.id).update({groupRole:t}).then((function(){})).catch((function(e){})),M(),L()}(e)}),{onError:function(e){},onSuccess:function(){t.invalidateQueries(["group",e])}})}(n);var Y=function(e){var t=e.name,n=e.id,r=e.hours,o=e.role,a=e.inTent,i=a?{backgroundColor:"#3eb489"}:{backgroundColor:"#1f509a"};return Object(z.jsx)(C.a,{onPress:function(){L(),A.current={name:t,id:n,hours:r,role:o}},children:Object(z.jsxs)(y.a,{style:[Lt(V).listItem,i,Lt(V).shadowProp],children:[Object(z.jsx)(w.a,{style:Lt(V).listText,children:t}),a?Object(z.jsxs)(y.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(z.jsx)(w.a,{style:{color:V.text1},children:"In Tent"}),Object(z.jsx)(I.default,{name:"map-marker-check-outline",color:V.icon1,size:28,style:{marginLeft:5}})]}):null]})})};return F||!U?Object(z.jsx)(qe,{}):_?Object(z.jsx)($e,{navigation:t}):Object(z.jsxs)(re.a,{style:Lt(V).container,children:[Object(z.jsxs)(y.a,{style:Lt(V).containerHeader,children:[Object(z.jsx)(ne.a,{icon:"menu",size:25,onPress:function(){return t.openDrawer()}}),Object(z.jsx)(w.a,{style:{fontSize:20,fontWeight:"600",color:V.grey1},children:"Group Overview"}),Object(z.jsx)(ne.a,{icon:"cog-outline",color:V.grey1,size:25,onPress:H})]}),Object(z.jsx)(w.a,{style:Lt(V).header,children:"Group Name"}),Object(z.jsx)(y.a,{style:Lt(V).boxText,children:Object(z.jsx)(w.a,{style:Lt(V).contentText,children:r})}),Object(z.jsx)(w.a,{style:Lt(V).header,children:"Group Code"}),Object(z.jsx)(y.a,{style:Lt(V).boxText,children:Object(z.jsx)(w.a,{selectable:!0,style:Lt(V).contentText,children:n})}),Object(z.jsx)(w.a,{style:Lt(V).header,children:"Members"}),Object(z.jsx)(Ne.a,{data:X.slice(1),renderItem:function(e){var t=e.item;return Object(z.jsx)(Y,{name:t.name,id:t.id,hours:t.hours,role:t.role,inTent:t.inTent})},keyExtractor:function(e){return e.id},ListHeaderComponent:0!=X.length?Object(z.jsx)((function(e){var t=e.item,n=t.inTent?"#3eb489":"#1f509a";return Object(z.jsx)(C.a,{onPress:function(){L(),A.current={name:t.name,id:t.id,hours:t.hours,role:t.role}},children:Object(z.jsxs)(y.a,{style:[Lt(V).listItem,Lt(V).shadowProp,{backgroundColor:n,marginVertical:15}],children:[Object(z.jsx)(w.a,{style:Lt(V).listText,children:t.name}),t.inTent?Object(z.jsxs)(y.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(z.jsx)(w.a,{style:{color:V.text1},children:"In Tent"}),Object(z.jsx)(I.default,{name:"map-marker-check-outline",color:V.icon1,size:28,style:{marginLeft:5}})]}):null]})})}),{item:X[0]}):null,refreshControl:Object(z.jsx)(Le.a,{enabled:!0,refreshing:J,onRefresh:q}),style:{marginHorizontal:"4%",flexGrow:1,height:"70%",width:"90%"},showsVerticalScrollIndicator:!1}),Object(z.jsxs)(ot,{isVisible:b,onBackdropPress:function(){return f(!1)},onSwipeComplete:L,height:"Creator"==a&&A.current.id!=p.a.auth().currentUser.uid?250:190,userStyle:"light",children:[Object(z.jsxs)(y.a,{style:Lt(V).popUpHeaderView,children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(z.jsx)(I.default,{name:"account",color:V.grey2,size:28,style:{marginRight:12}}),Object(z.jsxs)(w.a,{style:{fontSize:22,fontWeight:"700"},children:[A.current.name," Information"]})]}),Object(z.jsx)(C.a,{onPress:L,children:Object(z.jsx)(I.default,{name:"close-circle",color:V.grey2,size:26,style:{marginRight:0}})})]}),Object(z.jsxs)(y.a,{style:{height:"70%",width:"94%",justifyContent:"space-between"},children:[Object(z.jsxs)(y.a,{style:"Creator"==a&&A.current.id!=p.a.auth().currentUser.uid?{height:"65%"}:{height:"100%"},children:[Object(z.jsxs)(y.a,{style:Lt(V).popUpHalfBody,children:[Object(z.jsx)(I.default,{name:"timer-sand-empty",color:V.grey2,size:25,style:{marginRight:15}}),Object(z.jsxs)(w.a,{style:Lt(V).modalText,children:["Scheduled Hours: ",A.current.hours," hrs"]})]}),Object(z.jsx)(vt.a,{}),"Creator"==a&&A.current.id!=p.a.auth().currentUser.uid?Object(z.jsxs)(C.a,{style:[Lt(V).popUpHalfBody,{justifyContent:"space-between"}],onPress:function(){M()},children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(z.jsx)(I.default,{name:"account-group",color:V.grey2,size:25,style:{marginRight:15}}),Object(z.jsxs)(w.a,{style:Lt(V).modalText,children:["Group Role: ",A.current.role]})]}),Object(z.jsx)(I.default,{name:"chevron-down",color:V.grey2,size:20})]}):Object(z.jsxs)(y.a,{style:Lt(V).popUpHalfBody,children:[Object(z.jsx)(I.default,{name:"account-group",color:V.grey2,size:25,style:{marginRight:15}}),Object(z.jsxs)(w.a,{style:Lt(V).modalText,children:["Group Role: ",A.current.role]})]})]}),"Creator"===a&&A.current.id!=p.a.auth().currentUser.uid?Object(z.jsx)(y.a,{style:{width:"100%",height:"35%",justifyContent:"center"},children:Object(z.jsxs)(C.a,{onPress:N,style:Lt(V).removeBtn,children:[Object(z.jsx)(I.default,{name:"trash-can",color:V.error,size:30,style:{marginRight:15}}),Object(z.jsx)(w.a,{style:{color:V.error,fontSize:22,fontWeight:"600"},children:"Remove"})]})}):null]}),"Creator"==a?Object(z.jsxs)(ot,{isVisible:T,onBackdropPress:M,onSwipeComplete:M,toggleModal:M,cancelButton:!0,height:180,userStyle:"dark",children:[Object(z.jsxs)(C.a,{onPress:function(){return K.mutate({groupRole:"Admin",groupCode:n})},style:Lt(V).roleChangeListItem,children:[Object(z.jsx)(I.default,{name:"badge-account-outline",color:V.text1,size:25,style:{marginRight:15}}),Object(z.jsx)(w.a,{style:[Lt(V).modalText,{color:V.text1,marginRight:15}],children:"Admin"})]}),Object(z.jsxs)(C.a,{onPress:function(){return K.mutate({groupRole:"Member",groupCode:n})},style:[Lt(V).roleChangeListItem,{borderBottomWidth:0}],children:[Object(z.jsx)(I.default,{name:"account",color:V.text1,size:25,style:{marginRight:15}}),Object(z.jsx)(w.a,{style:[Lt(V).modalText,{color:V.text1,marginRight:15}],children:"Member"})]})]}):null,Object(z.jsx)(ye,{body:"Are you sure you want to REMOVE "+A.current.name+" from the group? This action CANNOT be undone.",buttonText:"Remove "+A.current.name,buttonAction:function(){Z.mutate()},toggleModal:N,isVisible:x,onBackdropPress:function(){return O(!1)},onSwipeComplete:N})]}),Object(z.jsx)(Rt,{isVisible:R,onBackdropPress:H,onSwipeComplete:H,swipeDown:!0,barSize:"none",height:"90%",userStyle:"light",children:Object(z.jsx)(Et,{params:{groupCode:n,groupName:r,userName:s,tentType:l,groupRole:a},navigation:t,toggleModal:H})})]})}var Lt=function(e){return v.a.create({container:{flex:1,backgroundColor:e.primaryContainer,alignItems:"center"},containerHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},header:{marginBottom:10,marginTop:4,color:e.grey1,width:"90%",fontSize:20,fontFamily:"Montserrat_700Bold"},boxText:{marginBottom:10,width:"90%",backgroundColor:e.white1,borderRadius:8,borderWidth:.3,borderColor:e.white1},contentText:{fontSize:24,textAlign:"center",marginHorizontal:8,fontFamily:"Montserrat_400Regular"},listItem:{backgroundColor:e.primary,padding:4,height:35,marginVertical:4,borderRadius:12,width:"100%",alignSelf:"center",alignItems:"center",flexDirection:"row",justifyContent:"space-between",paddingHorizontal:20},listText:{fontSize:15,fontFamily:"Montserrat_400Regular",color:e.text1},modalText:{fontSize:18,fontWeight:"500"},popUpHeaderView:{flexDirection:"row",height:"20%",width:"94%",justifyContent:"space-between",alignItems:"center"},popUpHalfBody:{flexDirection:"row",alignSelf:"center",height:"50%",width:"90%",justifyContent:"start",alignItems:"center",borderRadius:16},removeBtn:{flexDirection:"row",width:"100%",height:"85%",backgroundColor:"#ececec",alignItems:"center",justifyContent:"center",borderRadius:15},roleChangeListItem:{flexDirection:"row",height:"33%",width:"95%",justifyContent:"center",alignSelf:"center",alignItems:"center",borderBottomWidth:1,borderColor:"#cfcfcf"},shadowProp:{shadowColor:"#171717",shadowOffset:{width:-2,height:3},shadowOpacity:.2,shadowRadius:3},highlightShadow:{shadowColor:"#ff0",shadowRadius:10,shadowOpacity:.8}})},Nt=n(223),Mt=n(108),Ht=n(316),Gt=n(366),Ft=n(376);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=Object(c.memo)((function(e){var t=Object(c.useState)(!1),n=o()(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),l=o()(s,2),u=l[0],h=l[1],b=Object(d.b)(),f=Object(d.c)((function(e){return e.user.currGroupCode}));var g=function(e){var t=Object(j.e)();return Object(j.c)((function(t){return function(e,t){return p.a.firestore().collection("groups").doc(e).collection("members").doc(p.a.auth().currentUser.uid).update({inTent:t})}(e,t)}),{onError:function(e){},onSuccess:function(){t.invalidateQueries(["group",e])}})}(f);Object(Ve.p)(Object(c.useCallback)((function(){var e=!0;return e&&""!=f&&null!=f&&p.a.firestore().collection("groups").doc(f).collection("members").doc(p.a.auth().currentUser.uid).get().then((function(t){e&&t.exists&&a(t.data().inTent)})).catch((function(e){})),function(){return e=!1}}),[f]));function m(){h(!u)}return Object(z.jsxs)(y.a,{style:{flex:1},children:[Object(z.jsx)(Gt.a,Xt(Xt({},e),{},{children:Object(z.jsxs)(y.a,{style:Jt.drawerContent,children:[Object(z.jsx)(y.a,{style:Jt.userInfoSection,children:Object(z.jsx)(y.a,{style:{flexDirection:"row",marginTop:15},children:Object(z.jsx)(Nt.a,{style:Jt.title,children:"Krzyzewskiville"})})}),Object(z.jsxs)(Mt.a.Section,{style:Jt.drawerSection,children:[Object(z.jsx)(Ft.a,{icon:function(e){var t=e.color,n=e.size;return Object(z.jsx)(I.default,{name:"home-outline",color:t,size:n})},label:"Home",onPress:function(){e.navigation.navigate("Home")}}),Object(z.jsx)(Ft.a,{icon:function(e){var t=e.color,n=e.size;return Object(z.jsx)(I.default,{name:"account-group-outline",color:t,size:n})},label:"Group Overview",onPress:function(){e.navigation.navigate("GroupInfo")}}),Object(z.jsx)(Ft.a,{icon:function(e){var t=e.color,n=e.size;return Object(z.jsx)(I.default,{name:"calendar-text-outline",color:t,size:n})},label:"Your Availability",onPress:function(){e.navigation.navigate("AvailabilityScreen")}}),Object(z.jsx)(Ft.a,{icon:function(e){var t=e.color,n=e.size;return Object(z.jsx)(I.default,{name:"calendar-check-outline",color:t,size:n})},label:"Shifts This Week",onPress:function(){e.navigation.navigate("ShiftsScreen")}}),Object(z.jsx)(Ft.a,{icon:function(e){var t=e.color,n=e.size;return Object(z.jsx)(I.default,{name:"calendar-outline",color:t,size:n})},label:"Schedule",onPress:function(){e.navigation.navigate("ScheduleScreen")}}),Object(z.jsx)(Ft.a,{icon:function(e){var t=e.color,n=e.size;return Object(z.jsx)(I.default,{name:"information-outline",color:t,size:n})},label:"Information",onPress:function(){e.navigation.navigate("InfoScreen")}})]}),Object(z.jsx)(Mt.a.Section,{title:"Status",children:Object(z.jsxs)(y.a,{style:Jt.status,children:[Object(z.jsx)(w.a,{style:{color:"#555555"},children:"In Tent"}),Object(z.jsx)(Ht.a,{value:r,onValueChange:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a(!r),g.mutate(!r);case 2:case"end":return e.stop()}}),null,null,null,Promise)},color:"#3eb489"})]})})]})})),Object(z.jsx)(Mt.a.Section,{style:Jt.bottomDrawerSection,children:Object(z.jsx)(Ft.a,{icon:function(e){var t=e.color,n=e.size;return Object(z.jsx)(I.default,{name:"logout",color:t,size:n})},label:"Log Out",onPress:m})}),Object(z.jsx)(ye,{body:"Are you sure you want to log out?",buttonText:"Log out",buttonAction:function(){i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),e.next=3,i.a.awrap(Q.a.multiRemove(["USER_EMAIL","USER_PASSWORD","NAVIGATION_STATE_V1"]));case 3:return e.next=5,i.a.awrap(p.a.auth().signOut());case 5:b(Se());case 6:case"end":return e.stop()}}),null,null,null,Promise)},toggleModal:m,isVisible:u,onBackdropPress:m,onSwipeComplete:m,userStyle:"light"})]})})),Jt=v.a.create({drawerContent:{flex:1},userInfoSection:{paddingLeft:20},title:{fontSize:16,marginTop:3,fontWeight:"bold"},caption:{fontSize:14,lineHeight:14},row:{marginTop:20,flexDirection:"row",alignItems:"center"},section:{flexDirection:"row",alignItems:"center",marginRight:15},paragraph:{fontWeight:"bold",marginRight:3},drawerSection:{marginTop:15},bottomDrawerSection:{marginBottom:15,borderTopColor:"#f4f4f4",borderTopWidth:1},status:{flexDirection:"row",justifyContent:"space-between",paddingVertical:12,paddingHorizontal:16}}),qt=n(62),Zt=n(45);function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var $t=S.a.get("window"),en={tableHead:["","Sun","Mon","Tu","Wed","Th","Fri","Sat"],tableTime:[" 1 am"," 2 am"," 3 am"," 4 am"," 5 am"," 6 am"," 7 am"," 8 am"," 9 am","10 am","11 am","12 pm"," 1 pm"," 2 pm"," 3 pm"," 4 pm"," 5 pm"," 6 pm"," 7 pm"," 8 pm"," 9 pm","10 pm","11 pm"]},tn=[],nn=0;nn<48;nn+=1){for(var rn=[],on=0;on<7;on+=1)rn.push("");tn.push(rn)}var an,cn;function sn(e){var t=e.navigation,n=Object(d.c)((function(e){return e.user.currGroupCode})),r=Object(c.useState)({window:$t}),a=o()(r,2),s=a[0],l=a[1],u=Object(c.useState)(!1),b=o()(u,2),f=b[0],g=b[1],m=Object(c.useState)(!1),x=o()(m,2),O=x[0],T=x[1],k=Object(c.useState)(!1),P=o()(k,2),B=P[0],R=P[1],W=Object(c.useState)(""),A=o()(W,2),E=A[0],U=A[1],N=Object(c.useState)(0),M=o()(N,2),H=M[0],G=M[1],F=Object(c.useState)({hour:0,minute:0,day:0}),_=o()(F,2),X=_[0],Q=_[1],J=Object(c.useState)({hour:0,minute:0,day:0}),q=o()(J,2),Z=q[0],K=q[1],Y=D().theme,ee=Object(d.b)(),te=Object(j.d)(["availability",p.a.auth().currentUser.uid,n],(function(){return function(e){var t,n,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(t=new Array(336)).fill([!0,0]),o.next=4,i.a.awrap(p.a.firestore().collection("groups").doc(e).collection("members").doc(p.a.auth().currentUser.uid).get().then((function(e){cn=e.data().availability})));case 4:n=0;case 5:if(!(n<cn.length)){o.next=23;break}if(cn[n]){o.next=19;break}r=n;case 8:if(!(r<cn.length)||cn[r]){o.next=15;break}if(t[r]=[!0,0],n==r||r%48!=0){o.next=12;break}return o.abrupt("break",15);case 12:r++,o.next=8;break;case 15:r>47&&!t[r-1-r%48][0]?t[r-1]=[!1,r-n+1]:t[r-1]=[!1,r-n],n=r,o.next=20;break;case 19:t[n]=[!0,0];case 20:n++,o.next=5;break;case 23:return o.abrupt("return",t);case 24:case"end":return o.stop()}}),null,null,null,Promise)}(n)})),ne=te.isLoading,re=te.isError,oe=(te.error,te.data),ae=it(te.refetch),ie=ae.isRefetchingByUser,ce=ae.refetchByUser;var se=function(e){var t=Object(j.e)();return Object(j.c)((function(){return le(e)}),{onError:function(e){},onSuccess:function(){t.invalidateQueries(["availability",p.a.auth().currentUser.uid,e])}})}(n),le=function(e){var t=p.a.firestore().collection("groups").doc(e).collection("members").doc(p.a.auth().currentUser.uid);if(7==H)return je(),void U("Please select a day");var n=48*parseInt(H)+parseInt(X.day)+parseInt(X.minute)+2*parseInt(X.hour),r=48*parseInt(H)+parseInt(Z.day)+parseInt(Z.minute)+2*parseInt(Z.hour);if(r==48*parseInt(H)&&(r+=48),n>=r)return je(),void U("Invalid time slot");for(var o=n;o<r;o++)cn[o]=!1;t.update({availability:cn}),he()},ue=function(e){var t=Object(j.e)();return Object(j.c)((function(){return de(e)}),{onError:function(e){},onSuccess:function(){t.invalidateQueries(["availability",p.a.auth().currentUser.uid,e])}})}(n),de=function(e){for(var t=p.a.firestore().collection("groups").doc(e).collection("members").doc(p.a.auth().currentUser.uid),n=an-oe[an][1];n<=an;n++)cn[n]=!0;t.update({availability:cn}),be()};function he(){g(!f)}function be(){T(!O)}function je(){R(!B)}var fe=function(e,t,n){return Object(z.jsx)(C.a,{style:[ln(Y).btn,{height:35*parseInt(n[t][1])}],onPress:function(){be(),an=t}})};return Object(c.useEffect)((function(){var e=S.a.addEventListener("change",(function(e){var t=e.window;l({window:t})}));return function(){return null==e?void 0:e.remove()}})),ne?Object(z.jsx)(qe,{}):re?Object(z.jsx)($e,{navigation:t}):Object(z.jsxs)(y.a,{style:ln(Y).container,children:[Object(z.jsx)(qt.e,{borderStyle:{borderColor:"transparent"},children:Object(z.jsx)(qt.c,{data:en.tableHead,style:v.a.flatten(ln(Y).head),widthArr:[s.window.width/12,s.window.width*(11/84),s.window.width*(11/84),s.window.width*(11/84),s.window.width*(11/84),s.window.width*(11/84),s.window.width*(11/84),s.window.width*(11/84)],textStyle:{textAlign:"center",fontWeight:"700"}})}),Object(z.jsx)($.a,{showsVerticalScrollIndicator:!1,refreshControl:Object(z.jsx)(Le.a,{enabled:!0,refreshing:ie,onRefresh:ce}),children:Object(z.jsxs)(qt.e,{borderStyle:{borderWidth:0,borderColor:"transparent"},style:{flexDirection:"row"},children:[Object(z.jsx)(qt.f,{style:v.a.flatten([{width:s.window.width/12,marginTop:34,alignItems:"center"}]),children:Object(z.jsx)(qt.b,{data:en.tableTime,heightArr:new Array(23).fill(70),textStyle:{textAlign:"center",fontWeight:"700",fontSize:10,width:"70%",color:"#717573",marginLeft:2}})}),Object(z.jsx)(qt.f,{style:{flex:1},children:tn.map((function(e,t){return Object(z.jsx)(qt.f,{style:v.a.flatten(ln(Y).row),children:e.map((function(e,n){return Object(z.jsx)(qt.a,{data:oe[48*n+t][0]?e:fe(0,48*n+t,oe),style:v.a.flatten([ln(Y).cell,{width:s.window.width*(11/84)}])},n)}))},t)}))})]})}),Object(z.jsx)(y.a,{style:ln(Y).addContainer,children:Object(z.jsx)(C.a,{onPress:he,children:Object(z.jsx)(y.a,{style:ln(Y).FAB,children:Object(z.jsx)(I.default,{name:"plus",color:Y.text2,size:30})})})}),Object(z.jsx)(ot,{isVisible:O,onBackdropPress:be,height:55,userStyle:"light",children:Object(z.jsxs)(C.a,{onPress:function(){"LyenTwoXvUSGJvT14cpQUegAZXp1"==p.a.auth().currentUser.uid?(be(),ee(L("This is a demo account")),ee(V())):ue.mutate()},style:{flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",borderRadius:20},children:[Object(z.jsx)(I.default,{name:"trash-can-outline",color:Y.error,size:26}),Object(z.jsx)(w.a,{style:{textAlign:"center",color:Y.error,fontSize:26,fontWeight:"600",marginLeft:10},children:"Delete"})]})}),Object(z.jsxs)(Rt,{isVisible:f,onBackdropPress:he,swipeDown:!1,barSize:"none",height:"90%",userStyle:"light",children:[Object(z.jsx)(Wt.a,{visible:B,onDismiss:function(){return R(!1)},wrapperStyle:{top:0},duration:2e3,children:Object(z.jsx)(w.a,{style:{textAlign:"center",color:Y.text1},children:E})}),Object(z.jsxs)(y.a,{style:{height:"10%",width:"100%",flexDirection:"row",justifyContent:"center",alignItems:"center",borderBottomWidth:1},children:[Object(z.jsx)(Rt.Header,{fontSize:24,verticalMargin:0,children:"Add New Busy Time"}),Object(z.jsx)(C.a,{onPress:he,style:{justifyContent:"center",position:"absolute",right:15},children:Object(z.jsx)(I.default,{name:"close-circle",color:Y.grey2,size:26})})]}),Object(z.jsxs)(y.a,{style:ln(Y).modalBody,children:[Object(z.jsxs)(y.a,{style:ln(Y).selectDay,children:[Object(z.jsx)(w.a,{style:ln(Y).modalText,children:"Select Day: "}),Object(z.jsx)(y.a,{style:{width:"100%",height:"75%",alignItems:"center"},children:Object(z.jsxs)(Zt.a,{selectedValue:H,onValueChange:function(e,t){G(e)},style:"ios"===h.a.OS?{height:"100%",width:"80%"}:{height:30,width:"70%",marginTop:20},itemStyle:"ios"===h.a.OS?ln(Y).pickerItem:{},children:[Object(z.jsx)(Zt.a.Item,{label:"Sunday",value:0}),Object(z.jsx)(Zt.a.Item,{label:"Monday",value:1}),Object(z.jsx)(Zt.a.Item,{label:"Tuesday",value:2}),Object(z.jsx)(Zt.a.Item,{label:"Wednesday",value:3}),Object(z.jsx)(Zt.a.Item,{label:"Thursday",value:4}),Object(z.jsx)(Zt.a.Item,{label:"Friday",value:5}),Object(z.jsx)(Zt.a.Item,{label:"Saturday",value:6})]})})]}),Object(z.jsxs)(y.a,{style:ln(Y).selectTime,children:[Object(z.jsx)(w.a,{style:ln(Y).modalText,children:"Start Time: "}),Object(z.jsxs)(y.a,{style:ln(Y).timePickerBody,children:[Object(z.jsxs)(Zt.a,{selectedValue:X.hour,onValueChange:function(e,t){Q(Yt(Yt({},X),{},{hour:e}))},style:"ios"===h.a.OS?ln(Y).picker:{height:30,width:"30%",marginTop:20},itemStyle:"ios"===h.a.OS?ln(Y).pickerItem:{},children:[Object(z.jsx)(Zt.a.Item,{label:"12",value:0}),Object(z.jsx)(Zt.a.Item,{label:"1",value:1}),Object(z.jsx)(Zt.a.Item,{label:"2",value:2}),Object(z.jsx)(Zt.a.Item,{label:"3",value:3}),Object(z.jsx)(Zt.a.Item,{label:"4",value:4}),Object(z.jsx)(Zt.a.Item,{label:"5",value:5}),Object(z.jsx)(Zt.a.Item,{label:"6",value:6}),Object(z.jsx)(Zt.a.Item,{label:"7",value:7}),Object(z.jsx)(Zt.a.Item,{label:"8",value:8}),Object(z.jsx)(Zt.a.Item,{label:"9",value:9}),Object(z.jsx)(Zt.a.Item,{label:"10",value:10}),Object(z.jsx)(Zt.a.Item,{label:"11",value:11})]}),Object(z.jsxs)(Zt.a,{selectedValue:X.minute,onValueChange:function(e,t){Q(Yt(Yt({},X),{},{minute:e}))},style:"ios"===h.a.OS?ln(Y).picker:{height:30,width:"30%",marginTop:20},itemStyle:"ios"===h.a.OS?ln(Y).pickerItem:{},children:[Object(z.jsx)(Zt.a.Item,{label:"00",value:0}),Object(z.jsx)(Zt.a.Item,{label:"30",value:1})]}),Object(z.jsxs)(Zt.a,{selectedValue:X.day,onValueChange:function(e,t){Q(Yt(Yt({},X),{},{day:e}))},style:"ios"===h.a.OS?ln(Y).picker:{height:30,width:"30%",marginTop:20},itemStyle:"ios"===h.a.OS?ln(Y).pickerItem:{},children:[Object(z.jsx)(Zt.a.Item,{label:"AM",value:0}),Object(z.jsx)(Zt.a.Item,{label:"PM",value:24})]})]})]}),Object(z.jsxs)(y.a,{style:ln(Y).selectTime,children:[Object(z.jsx)(w.a,{style:ln(Y).modalText,children:"End Time: "}),Object(z.jsxs)(y.a,{style:ln(Y).timePickerBody,children:[Object(z.jsxs)(Zt.a,{selectedValue:Z.hour,onValueChange:function(e,t){K(Yt(Yt({},Z),{},{hour:e}))},style:"ios"===h.a.OS?ln(Y).picker:{height:30,width:"30%",marginTop:20},itemStyle:"ios"===h.a.OS?ln(Y).pickerItem:{},children:[Object(z.jsx)(Zt.a.Item,{label:"12",value:0}),Object(z.jsx)(Zt.a.Item,{label:"1",value:1}),Object(z.jsx)(Zt.a.Item,{label:"2",value:2}),Object(z.jsx)(Zt.a.Item,{label:"3",value:3}),Object(z.jsx)(Zt.a.Item,{label:"4",value:4}),Object(z.jsx)(Zt.a.Item,{label:"5",value:5}),Object(z.jsx)(Zt.a.Item,{label:"6",value:6}),Object(z.jsx)(Zt.a.Item,{label:"7",value:7}),Object(z.jsx)(Zt.a.Item,{label:"8",value:8}),Object(z.jsx)(Zt.a.Item,{label:"9",value:9}),Object(z.jsx)(Zt.a.Item,{label:"10",value:10}),Object(z.jsx)(Zt.a.Item,{label:"11",value:11})]}),Object(z.jsxs)(Zt.a,{selectedValue:Z.minute,onValueChange:function(e,t){K(Yt(Yt({},Z),{},{minute:e}))},style:"ios"===h.a.OS?ln(Y).picker:{height:30,width:"30%",marginTop:20},itemStyle:"ios"===h.a.OS?ln(Y).pickerItem:{},children:[Object(z.jsx)(Zt.a.Item,{label:"00",value:0}),Object(z.jsx)(Zt.a.Item,{label:"30",value:1})]}),Object(z.jsxs)(Zt.a,{selectedValue:Z.day,onValueChange:function(e,t){K(Yt(Yt({},Z),{},{day:e}))},style:"ios"===h.a.OS?ln(Y).picker:{height:30,width:"30%",marginTop:20},itemStyle:"ios"===h.a.OS?ln(Y).pickerItem:{},children:[Object(z.jsx)(Zt.a.Item,{label:"AM",value:0}),Object(z.jsx)(Zt.a.Item,{label:"PM",value:24})]})]})]})]}),Object(z.jsxs)(y.a,{style:ln(Y).modalFooter,children:[Object(z.jsx)(C.a,{style:ln(Y).addBtn,onPress:he,children:Object(z.jsx)(w.a,{style:ln(Y).btnText,children:"Cancel"})}),Object(z.jsx)(C.a,{style:[ln(Y).addBtn,{backgroundColor:Y.primary}],onPress:function(){"LyenTwoXvUSGJvT14cpQUegAZXp1"==p.a.auth().currentUser.uid?(he(),ee(L("This is a demo account")),ee(V())):se.mutate()},children:Object(z.jsx)(w.a,{style:[ln(Y).btnText,{color:Y.text1}],children:"Add"})})]})]})]})}var ln=function(e){return v.a.create({container:{flex:1,padding:0,backgroundColor:e.background},text:{textAlign:"center"},modalText:{fontSize:18,color:e.text2,textAlign:"center",padding:0},modalBody:{alignItems:"center",width:"100%",height:"80%",marginTop:10},picker:{height:"100%",width:"35%"},pickerItem:{height:"100%"},selectDay:{alignItems:"center",width:"70%",height:"23%"},selectTime:{alignItems:"center",height:"35%",width:"90%"},timePickerBody:{flexDirection:"row",width:"100%",height:"90%",justifyContent:"center"},modalFooter:{flexDirection:"row",width:"100%",height:"10%",alignItems:"center",justifyContent:"space-evenly"},addBtn:{alignItems:"center",justifyContent:"center",width:"50%",width:"40%",height:"60%",borderRadius:15},btnText:{color:e.text2,fontSize:24,fontWeight:"600"},head:{backgroundColor:e.background,height:35,borderBottomLeftRadius:20,borderBottomRightRadius:20,shadowColor:"#171717",shadowOffset:{width:0,height:-5},shadowOpacity:.9,shadowRadius:10,elevation:3,overflow:"visible"},row:{height:35,flexDirection:"row",borderBottomWidth:1,borderColor:"#cfcfcf"},cell:{height:35,flexDirection:"column",justifyContent:"flex-end",alignItems:"center",borderRightWidth:1,borderColor:"#cfcfcf",margin:0},btn:{width:"92%",height:42,backgroundColor:e.primary,borderRadius:7,borderWidth:1,alignSelf:"center"},addContainer:{position:"absolute",backgroundColor:"#00000000",flexDirection:"row",justifyContent:"center",alignItems:"center",right:25,bottom:20},FAB:{height:50,width:50,backgroundColor:"#D2D5DC",borderRadius:12,justifyContent:"center",alignItems:"center"}})},un=n(192),dn=n(60),hn=n(317),bn=n(30),jn=n(319),fn=n(320),gn=n(318),mn=n(250),xn=n.n(mn);"android"===h.a.OS&&dn.a.setLayoutAnimationEnabledExperimental&&dn.a.setLayoutAnimationEnabledExperimental(!0);var pn,yn=["12am","1am","2am","3am","4am","5am","6am","7am","8am","9am","10am","11am","12am","1pm","2pm","3pm","4pm","5pm","6pm","7pm","8pm","9pm","10pm","11pm"],On=new Array,wn=S.a.get("window");function vn(e){var t=e.navigation,n=Object(d.c)((function(e){return e.user.currGroupCode})),r=Object(d.c)((function(e){return e.user.currGroupRole})),a=Object(d.c)((function(e){return e.user.currTentType})),s=Object(c.useState)(!1),l=o()(s,2),u=l[0],h=l[1],b=Object(c.useState)(!1),f=o()(b,2),g=f[0],m=f[1],x=Object(c.useState)(!1),O=o()(x,2),S=O[0],k=O[1],P=Object(c.useState)(!1),B=o()(P,2),R=B[0],W=B[1],A=Object(c.useState)(!1),E=o()(A,2),U=E[0],N=E[1],M=Object(c.useState)({open:!1}),H=o()(M,2),G=H[0],F=H[1],_=Object(c.useState)("Current Week"),X=o()(_,2),Q=X[0],J=X[1],q=Object(c.useState)("Sunday"),Z=o()(q,2),K=Z[0],Y=Z[1],ee=Object(c.useState)("Select a Member"),te=o()(ee,2),ne=te[0],re=te[1],oe=Object(c.useRef)(""),ae=Object(c.useRef)(0),ie=Object(c.useRef)([]),ce=Object(c.useRef)(!1),se=Object(c.useRef)([]),le=Object(c.useRef)([{id:1,name:"empty",color:"#ececec",changedHrs:0}]),ue=D().theme,de=Object(bn.useSharedValue)(0),he=Object(bn.useSharedValue)(1),be=G.open,je=Object(d.b)(),fe=Object(j.d)(["groupSchedule",p.a.auth().currentUser.uid,n,Q],(function(){return function(e,t){var n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(p.a.firestore().collection("groups").doc(e).get().then((function(e){n=e.data().groupSchedule,On=e.data().previousSchedule,le.current=e.data().memberArr,pn=e.data().previousMemberArr})).catch((function(e){throw e})));case 2:if("Current Week"!=t){r.next=4;break}return r.abrupt("return",n);case 4:return r.abrupt("return",On);case 5:case"end":return r.stop()}}),null,null,null,Promise)}(n,Q)}),{initialData:[],onSuccess:function(){h(!0),m(!1)}}),ge=fe.isLoading,me=fe.isError,xe=(fe.error,fe.refetch),pe=fe.data,Oe=it(xe),we=Oe.isRefetchingByUser,ve=Oe.refetchByUser;var Ce=function(e,t){var n=Object(j.e)();return Object(j.c)((function(e){return function(e){var t,n,r,o,a,c,s,l,u,d,h,b;return i.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:if(t=e.index,n=e.oldMember,r=e.newMember,o=e.groupCode,a=p.a.firestore().collection("groups").doc(o),c=pe,"empty"===r||!pe[t].trim().split(" ").includes(r)){j.next=9;break}je(V()),je(L("Member already in chosen timeslot")),ce.current=!1,j.next=21;break;case 9:return c[t]=c[t].replace(n,r),s=le.current.findIndex((function(e){return e.name===n})),l=le.current.findIndex((function(e){return e.name===r})),j.next=14,i.a.awrap(a.collection("members").doc(le.current[s].id).get().then((function(e){u=e.data().scheduledHrs-.5,(h=e.data().shifts)[t]=!1})));case 14:return j.next=16,i.a.awrap(a.collection("members").doc(le.current[l].id).get().then((function(e){d=e.data().scheduledHrs+.5,(b=e.data().shifts)[t]=!0})));case 16:a.collection("members").doc(le.current[s].id).update({scheduledHrs:u,shifts:h}),a.collection("members").doc(le.current[l].id).update({scheduledHrs:d,shifts:b}),a.update({groupSchedule:c}),ie.current=c,ce.current=!0;case 21:case"end":return j.stop()}}),null,null,null,Promise)}(e)}),{onError:function(e){},onSuccess:function(){ce.current&&n.setQueryData(["groupSchedule",p.a.auth().currentUser.uid,e,t],ie.current)}})}(n,Q);var Se=function(e,t,n){var r=Object(j.e)();return Object(j.c)((function(){return function(e,t){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(Qe(e,t).then((function(t){ie.current=t,void 0!==pe[0]&&(On=pe),pn=le.current,p.a.firestore().collection("groups").doc(e).update({groupSchedule:ie.current,previousSchedule:On,previousMemberArr:le.current}).catch((function(e){})),je(L("New Schedule created")),je(V())})).catch((function(e){je(L("Not enough members")),je(V())})));case 2:case"end":return n.stop()}}),null,null,null,Promise)}(e,t)}),{onError:function(e){},onSuccess:function(){r.setQueryData(["groupSchedule",p.a.auth().currentUser.uid,e,n],ie.current),r.invalidateQueries(["shifts",p.a.auth().currentUser.uid,e])}})}(n,a,Q);function Te(){un.a.configureNext(un.a.Presets.spring),k(!S)}function ke(){W(!R)}function Ie(){N(!U)}function Pe(){"Current Week"==Q?(J("Previous Week"),he.value=0):(J("Current Week"),he.value=1),m(!0),xe()}var Be=Object(c.memo)((function(){return Object(z.jsx)(qt.e,{style:{width:"7%",marginTop:-31},children:Object(z.jsx)(qt.b,{data:yn,heightArr:[62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62],textStyle:v.a.flatten(Cn(ue).timesText)})})})),ze=Object(c.memo)((function(e){var t=e.index,n=e.person,o="Current Week"==Q?le.current.findIndex((function(e){return e.name==n})):pn.findIndex((function(e){return e.name==n})),a=-1!=o?"Current Week"==Q?le.current[o].color:pn[o].color:"#fff";return"Current Week"!=Q||"Creator"!=r&&"Admin"!=r?Object(z.jsx)(y.a,{style:{flex:1},children:Object(z.jsx)(y.a,{style:[Cn(ue).timeSlotBtn,{backgroundColor:a}],children:Object(z.jsx)(w.a,{style:"empty"==n?[Cn(ue).btnText,{color:ue.error,fontWeight:"700"}]:Cn(ue).btnText,adjustsFontSizeToFit:!0,minimumFontScale:.5,numberOfLines:1,children:n})})}):Object(z.jsx)(y.a,{style:{flex:1},children:Object(z.jsx)(C.a,{onPress:function(){ae.current=t,oe.current=n,Te()},children:Object(z.jsx)(y.a,{style:[Cn(ue).timeSlotBtn,{backgroundColor:a}],children:Object(z.jsx)(w.a,{style:"empty"==n?[Cn(ue).btnText,{color:ue.error,fontWeight:"700"}]:Cn(ue).btnText,adjustsFontSizeToFit:!0,minimumFontScale:.5,numberOfLines:1,children:n})})})})})),Re=function(e,t,n){var r=n.trim().split(" ");return Object(z.jsxs)(y.a,{style:Cn(ue).row,children:[Object(z.jsx)(ze,{index:t,person:r[0]}),r.length>1?Object(z.jsx)(ze,{index:t,person:r[1]}):null,r.length>2?Object(z.jsx)(ze,{index:t,person:r[2]}):null,r.length>2?Object(z.jsx)(ze,{index:t,person:r[3]}):null,r.length>2?Object(z.jsx)(ze,{index:t,person:r[4]}):null,r.length>2?Object(z.jsx)(ze,{index:t,person:r[5]}):null,r.length>6?Object(z.jsx)(ze,{index:t,person:r[6]}):null,r.length>6?Object(z.jsx)(ze,{index:t,person:r[7]}):null,r.length>6?Object(z.jsx)(ze,{index:t,person:r[8]}):null,r.length>6?Object(z.jsx)(ze,{index:t,person:r[9]}):null]})},De=Object(c.memo)((function(e){var t=e.day,n=0;switch(t){case"Monday":n=48;break;case"Tuesday":n=96;break;case"Wednesday":n=144;break;case"Thursday":n=192;break;case"Friday":n=240;break;case"Saturday":n=288;break;default:n=0}var r=pe.slice(n,n+48);return Object(z.jsx)(y.a,{style:{marginTop:0,width:"90%"},children:Object(z.jsx)(qt.e,{borderStyle:{borderColor:"transparent"},children:r.map((function(e,t){return Object(z.jsx)(qt.f,{style:v.a.flatten(Cn(ue).row),children:Object(z.jsx)(qt.a,{data:Re(0,t+n,r[t]),textStyle:v.a.flatten(Cn(ue).text)})},t)}))})})})),We=Object(bn.useAnimatedStyle)(function(){var e=function(){return{transform:[{translateX:Object(bn.withSpring)(de.value*(wn.width/7),{damping:50,stiffness:90})}]}};return e._closure={withSpring:bn.withSpring,dayHighlightOffset:de,win:{width:wn.width}},e.asString="function _f(){const{withSpring,dayHighlightOffset,win}=jsThis._closure;{return{transform:[{translateX:withSpring(dayHighlightOffset.value*(win.width/7),{damping:50,stiffness:90})}]};}}",e.__workletHash=8091828285898,e.__location="/Users/kevin/code/duke_tenting/duke-tenting-app-rev2/src/screens/Schedule.js (475:46)",e.__optimalization=2,e}()),Ae=Object(bn.useAnimatedStyle)(function(){var e=function(){return{transform:[{translateX:Object(bn.withSpring)(he.value*(.3*wn.width),{damping:50,stiffness:90})}]}};return e._closure={withSpring:bn.withSpring,isCurrentWeek:he,win:{width:wn.width}},e.asString="function _f(){const{withSpring,isCurrentWeek,win}=jsThis._closure;{return{transform:[{translateX:withSpring(isCurrentWeek.value*(win.width*0.3),{damping:50,stiffness:90})}]};}}",e.__workletHash=8569136957717,e.__location="/Users/kevin/code/duke_tenting/duke-tenting-app-rev2/src/screens/Schedule.js (487:44)",e.__optimalization=2,e}()),Ee=function(e){var t=e.day,n=e.abbrev,r=e.value;return Object(z.jsxs)(C.a,{style:[Cn(ue).button,{backgroundColor:"transparent",zIndex:2}],onPress:function(){Y(t),de.value=r,0!=pe.length&&se.current.scrollTo({x:0,y:0,animated:!0})},children:[Object(z.jsx)(w.a,{style:K==t?[Cn(ue).buttonText,{color:"white"}]:[Cn(ue).buttonText,{color:"black"}],children:n}),K==t?Object(z.jsx)(hn.a,{size:8,style:{alignSelf:"center",backgroundColor:ue.text1}}):null]})};return ge||!u?Object(z.jsx)(qe,{}):me?Object(z.jsx)($e,{navigation:t}):0!=pe.length||g||"Previous Week"==Q?Object(z.jsx)(jn.a,{children:Object(z.jsxs)(y.a,{style:Cn(ue).bigContainer,children:[Object(z.jsxs)(ot,{isVisible:S,onBackdropPress:Te,onSwipeComplete:Te,toggleModal:Te,userStyle:"light",cancelButton:!0,height:.15*wn.height,children:[Object(z.jsx)(C.a,{onPress:ke,style:{height:"50%",width:"100%"},children:Object(z.jsxs)(y.a,{style:{flex:1,justifyContent:"center",alignItems:"center",borderBottomWidth:1,borderColor:"#cfcfcf",flexDirection:"row"},children:[Object(z.jsx)(w.a,{style:{textAlign:"center",fontSize:24,color:"black"},children:ne}),Object(z.jsx)(I.default,{name:"chevron-down",color:ue.icon2,size:30,style:{marginLeft:10}})]})}),Object(z.jsx)(C.a,{onPress:function(){"Select a Member"==ne?Te():"LyenTwoXvUSGJvT14cpQUegAZXp1"==p.a.auth().currentUser.uid?(Te(),je(L("This is a demo account")),je(V())):(Te(),Ce.mutate({index:ae.current,oldMember:oe.current,newMember:ne,groupCode:n}))},style:{height:"50%",width:"100%"},children:Object(z.jsx)(y.a,{style:{height:"100%",justifyContent:"center"},children:Object(z.jsx)(w.a,{style:{textAlign:"center",color:"black",fontSize:20,fontWeight:"500"},children:"Edit"})})}),Object(z.jsx)(Rt,{isVisible:R,onBackdropPress:function(){return W(!1)},onSwipeComplete:ke,userStyle:"light",children:Object(z.jsx)(y.a,{style:{marginTop:10,width:"90%",alignItems:"center",height:"92%"},children:Object(z.jsx)(y.a,{style:{height:"100%",width:"100%"},children:Object(z.jsx)(Ne.a,{data:le.current,renderItem:function(e){var t=e.item,n=.45*wn.height*(1/le.current.length)+8;return Object(z.jsx)(y.a,{style:{width:"100%"},children:Object(z.jsx)(C.a,{onPress:function(){re(t.name),ke()},style:{width:"100%"},children:Object(z.jsx)(y.a,{style:{height:n,justifyContent:"center"},children:Object(z.jsx)(w.a,{style:{textAlign:"center",color:"black",fontSize:18},children:t.name})})})})},ItemSeparatorComponent:function(){return Object(z.jsx)(vt.a,{})},keyExtractor:function(e){return e.id}})})})})]}),Object(z.jsx)(ye,{toggleModal:Ie,body:"Are you sure you want to create a new schedule? This will change the current schedule for all members and cannot be undone.",buttonText:"Create New Schedule",buttonAction:function(){"LyenTwoXvUSGJvT14cpQUegAZXp1"==p.a.auth().currentUser.uid?(je(L("This is a demo account")),je(V())):Se.mutate()},isVisible:U,userStyle:"light",onBackdropPress:function(){return N(!1)},onSwipeComplete:Ie}),Object(z.jsx)(y.a,{style:{zIndex:1},children:Object(z.jsxs)(y.a,{style:[Cn(ue).buttonContainer,Cn(ue).shadowProp],children:[Object(z.jsx)(bn.default.View,{style:[Cn(ue).dayHighlight,We]}),Object(z.jsx)(Ee,{day:"Sunday",abbrev:"Sun",value:0}),Object(z.jsx)(Ee,{day:"Monday",abbrev:"Mon",value:1}),Object(z.jsx)(Ee,{day:"Tuesday",abbrev:"Tue",value:2}),Object(z.jsx)(Ee,{day:"Wednesday",abbrev:"Wed",value:3}),Object(z.jsx)(Ee,{day:"Thursday",abbrev:"Thur",value:4}),Object(z.jsx)(Ee,{day:"Friday",abbrev:"Fri",value:5}),Object(z.jsx)(Ee,{day:"Saturday",abbrev:"Sat",value:6})]})}),Object(z.jsx)(y.a,{style:{width:"100%",justifyContent:"center",alignItems:"center"},children:Object(z.jsxs)(y.a,{style:Cn(ue).toggleWeekContainer,children:[Object(z.jsx)(bn.default.View,{style:[Cn(ue).toggleWeekHighlight,Ae]}),Object(z.jsx)(C.a,{style:Cn(ue).toggleWeekButton,onPress:Pe,children:Object(z.jsx)(w.a,{children:"Previous"})}),Object(z.jsx)(C.a,{style:Cn(ue).toggleWeekButton,onPress:Pe,children:Object(z.jsx)(w.a,{children:"Current"})})]})}),Object(z.jsx)(y.a,{style:{backgroundColor:"#D2D5DC",marginTop:0,flex:1,zIndex:0},children:Object(z.jsx)($.a,{showsVerticalScrollIndicator:!1,refreshControl:Object(z.jsx)(Le.a,{enabled:!0,refreshing:we,onRefresh:ve}),ref:se,contentContainerStyle:{paddingBottom:30},style:{width:"100%"},removeClippedSubviews:!0,children:Object(z.jsxs)(y.a,{style:{flexDirection:"row",marginTop:20,padding:0,width:"100%"},children:[Object(z.jsx)(Be,{}),Object(z.jsx)(De,{day:K})]})})}),"Member"!=r?Object(z.jsx)(fn.a,{children:Object(z.jsx)(gn.a.Group,{open:be,icon:"plus",style:{position:"absolute"},fabStyle:{backgroundColor:"#9FA6B7"},actions:[{icon:"calendar",label:"Create New Schedule",onPress:function(){return Ie()}}],onStateChange:function(e){var t=e.open;F({open:t})},onPress:function(){}})}):null]})}):Object(z.jsxs)(y.a,{style:Cn(ue).emptyStateContainer,children:[Object(z.jsx)(w.a,{children:"Group Schedule has not been created"}),Object(z.jsx)(T.a,{style:{opacity:.5,height:"30%",width:"50%"},resizeMode:"contain",source:xn.a}),"Member"!=r?Object(z.jsxs)(C.a,{style:{width:"50%",height:50,backgroundColor:ue.primary,borderRadius:30,flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:50},onPress:function(){Se.mutate()},children:[Object(z.jsx)(I.default,{name:"plus",color:ue.icon1,size:20,style:{marginRight:10}}),Object(z.jsx)(w.a,{style:{color:ue.text1,fontSize:15,fontWeight:"500"},children:"Create Schedule"})]}):Object(z.jsx)(w.a,{children:"Ask the creator or an admin to create a new schedule"})]})}var Cn=function(e){return v.a.create({bigContainer:{flex:1,backgroundColor:"#D2D5DC",flexGrow:1,overflow:"hidden"},emptyStateContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingBottom:"30%",backgroundColor:e.background},text:{margin:3},timesText:{fontWeight:"800",fontSize:9,width:"100%",textAlign:"center"},dayHighlight:{position:"absolute",backgroundColor:"#1F509Ad0",width:wn.width/7,height:38,borderRadius:100},toggleWeekContainer:{borderRadius:10,width:"60%",height:30,flexDirection:"row",justifyContent:"space-around",alignItems:"center",borderWidth:1,marginTop:20,backgroundColor:"#FAFAFA",padding:1,borderColor:"#fff"},toggleWeekHighlight:{position:"absolute",width:"50%",height:"100%",left:0,borderRadius:10,backgroundColor:"#FCFCFC",shadowColor:"#171717",shadowOffset:{width:0,height:0},shadowOpacity:.2,shadowRadius:2},toggleWeekButton:{flex:1,justifyContent:"center",alignItems:"center",height:"100%"},buttonContainer:{flexDirection:"row",justifyContent:"space-between",borderBottomRightRadius:20,borderBottomLeftRadius:20,backgroundColor:e.primaryContainer},button:{backgroundColor:e.grey3,width:wn.width/7,height:38,alignItems:"center",justifyContent:"center"},buttonText:{fontSize:"auto",fontWeight:"500",textAlign:"center",color:"black"},topEditBtn:{width:"100%",backgroundColor:"white",justifyContent:"center",height:32},topEditBtnText:{textAlign:"center",fontSize:16,fontWeight:"500"},dayHeader:{marginTop:20,fontSize:28,fontWeight:"700",textAlign:"center"},row:{flexDirection:"row",backgroundColor:"lavender",width:"100%",height:31,alignItems:"center",borderBottomColor:"black",borderBottomWidth:1},timeSlotBtn:{height:30,backgroundColor:"#78B7BB",paddingHorizontal:1,justifyContent:"center"},btnText:{textAlign:"center",color:e.text2,fontWeight:"400",fontSize:11},shadowProp:{shadowColor:"#171717",shadowOffset:{width:-3,height:5},shadowOpacity:.4,shadowRadius:3},fabStyle:{bottom:16,right:.02*wn.width,position:"absolute"}})};function Sn(){return Object(z.jsx)(y.a,{style:{justifyContent:"center",alignItems:"center"},children:Object(z.jsx)(w.a,{style:{fontSize:30,fontWeight:"700"},children:" COMING SOON ... "})})}var Tn=n(367),kn=n.n(Tn),In=n(368),Pn=n.n(In),Bn={tableHead:["","Sunday-Thursday","Friday and Saturday"],tableTitle:["Night"],tableData:[["1 am - 7 am","2:30 am - 7 am"]]},zn={tableData:[["Starting Dates","Jan *, 2023 - Feb *, 2023"],["Occupancy Requirements"," \u25cf TWO members of the tent must be on duty during the day.\n\u25cf TEN members during night hours"]]},Rn={tableData:[["Starting Dates","Jan *, 2023 - Feb *, 2023"],["Occupancy Requirements"," \u25cf ONE member of the tent must be on duty during the day.\n\u25cf SIX members during night hours"]]},Dn={tableData:[["Starting Dates","Feb *, 2023 - Feb *, 2023"],["Occupancy Requirements"," \u25cf ONE member of the tent must be on duty during the day.\n\u25cf TWO members during night hours"]]},Wn=S.a.get("window");function An(){var e,t,n,r,o,a,i=D().theme,s=Wn.width/1e3,l=Object(c.useRef)(),u=function(e){var t=e.data;return Object(z.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(z.jsx)(w.a,{style:{fontSize:30,paddingLeft:30},children:"\u25cf"}),Object(z.jsx)(w.a,{style:[En(i).contentText,{flex:1}],children:t})]})};function d(e){l.current.scrollTo({x:0,y:e,animated:!0})}return Object(z.jsxs)(re.a,{style:En(i).container,children:[Object(z.jsxs)(y.a,{style:En(i).buttonContainer,children:[Object(z.jsx)(C.a,{style:En(i).button,onPress:function(){return d(e)},children:Object(z.jsx)(w.a,{style:En(i).buttonText,children:"Hours"})}),Object(z.jsx)(C.a,{style:En(i).button,onPress:function(){return d(t)},children:Object(z.jsx)(w.a,{style:En(i).buttonText,children:"Tent Checks"})}),Object(z.jsx)(C.a,{style:En(i).button,onPress:function(){return d(n)},children:Object(z.jsx)(w.a,{style:En(i).buttonText,children:"Missed Checks"})}),Object(z.jsx)(C.a,{style:En(i).button,onPress:function(){return d(r)},children:Object(z.jsx)(w.a,{style:En(i).buttonText,children:"Grace"})}),Object(z.jsx)(C.a,{style:En(i).button,onPress:function(){return d(o)},children:Object(z.jsx)(w.a,{style:En(i).buttonText,children:"Tent Types"})}),Object(z.jsx)(C.a,{style:En(i).button,onPress:function(){return d(a)},children:Object(z.jsx)(w.a,{style:En(i).buttonText,children:"P-Checks"})})]}),Object(z.jsxs)($.a,{style:{marginHorizontal:20,marginTop:50},ref:l,showsVerticalScrollIndicator:!1,children:[Object(z.jsx)(w.a,{style:En(i).header,children:"Tenting Overview:"}),Object(z.jsx)(y.a,{style:{width:"100%",marginBottom:10},children:Object(z.jsx)(T.a,{style:{width:Wn.width,height:568*s,resizeMode:"contain",alignSelf:"center"},source:Pn.a})}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"A tent is comprised of a maximum of 12 people. Occupancy requirements for each tenting period remain the same regardless of the number of people in the tent."}),Object(z.jsx)(w.a,{style:En(i).header,onLayout:function(t){var n=t.nativeEvent.layout;e=n.y},children:"Daytime Hours and Curfew"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Tenters on duty must be within the K-Ville city limits at all times. The number of tenters required at a given time varies based on the current tenting period and the time of day."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Each day is divided into day and night hours. A different number of tenters on duty is necessary from day to night."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Night Hours are defined as:"}),Object(z.jsx)(y.a,{style:{marginHorizontal:20},children:Object(z.jsxs)(qt.e,{borderStyle:{borderWidth:1.3},children:[Object(z.jsx)(qt.c,{data:Bn.tableHead,flexArr:[1.00001,2,2],style:v.a.flatten(En(i).tableHead),textStyle:v.a.flatten(En(i).tableText)}),Object(z.jsxs)(qt.f,{style:En(i).tableWrapper,children:[Object(z.jsx)(qt.b,{data:Bn.tableTitle,style:v.a.flatten(En(i).tableTitle),heightArr:[28,28],textStyle:v.a.flatten(En(i).tableText)}),Object(z.jsx)(qt.d,{data:Bn.tableData,flexArr:[1.987,1.987],style:v.a.flatten(En(i).tableRow),textStyle:v.a.flatten(En(i).tableText)})]})]})}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"*All other times will count as Day Hours"}),Object(z.jsx)(y.a,{style:{marginVertical:15}}),Object(z.jsx)(w.a,{style:En(i).header,onLayout:function(e){var n=e.nativeEvent.layout;t=n.y},children:"Tent Checks"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"The Line Monitors may announce a tent check at their discretion. A check will be signaled by the sounding of a bullhorn siren."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"To check in, gather all members of your tent in the area between the Card parking lot and the Schwartz-Butters plaza. Wait until the required number of tenters are present to check in \u2014 we cannot check in your tent until all required members are present."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Tents who have yet to be checked but appear to be missing will \u2014 at a minimum \u2014 be given three warning calls over the bullhorn before being marked as absent. After the final warning call, an additional 2 minutes will be given to allow for tenters to check in. After this time elapses, the check is officially over."}),Object(z.jsx)(w.a,{style:[En(i).contentText,{fontWeight:"700"}],children:"Tenters must stay within K-Ville boundaries to be counted."}),Object(z.jsx)(y.a,{style:{width:"100%",marginBottom:10},children:Object(z.jsx)(T.a,{style:{width:Wn.width,height:568*s,resizeMode:"contain",alignSelf:"center"},source:kn.a})}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Line Monitors cannot be held responsible for checks missed due to tenters using the bathroom, failing to hear the siren, being asleep in the tent, or similar related circumstances."}),Object(z.jsx)(y.a,{style:{marginVertical:12}}),Object(z.jsx)(w.a,{style:En(i).header,onLayout:function(e){var t=e.nativeEvent.layout;n=t.y},children:"Missed Checks"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Checking in entails each present group member presenting their Duke Card to a Line Monitor. If the tent fails to complete this, the check will be counted as a missed check for that tent."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Each tent is allowed one missed check per tenting period. Missing a second check will result in the tent being bumped to the end of the line, behind all registered tents."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"An email from headlinemonitor@gmail.com to your tent captain within 24 hours will inform you of your miss. If you feel a miss has been assigned in error, please contact the Head Line Monitors at headlinemonitor@gmail.com to discuss your circumstances."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"If K-Ville is at a maximum capacity, the tent will be dropped to the end of the resultant wait list."}),Object(z.jsx)(y.a,{style:{marginVertical:12}}),Object(z.jsx)(w.a,{style:En(i).header,onLayout:function(e){var t=e.nativeEvent.layout;r=t.y},children:"Grace"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"A grace period may be announced in which no tent checks will be called. During grace, tenters need not be on duty in K-Ville."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Grace shall be given on the following occasions:"}),Object(z.jsx)(u,{data:"For one hour after a tent check is completed."}),Object(z.jsx)(u,{data:"Two hours before and after a men\u2019s or women\u2019s home basketball game."}),Object(z.jsx)(u,{data:"One hour before and after a men\u2019s or women\u2019s away basketball game."}),Object(z.jsx)(u,{data:"For some heavy weather-related incidents."}),Object(z.jsx)(y.a,{style:{marginVertical:18}}),Object(z.jsx)(w.a,{style:[En(i).header,En(i).tentHeaderBox,{backgroundColor:i.text2,color:i.text1}],onLayout:function(e){var t=e.nativeEvent.layout;o=t.y},children:"Black Tent"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Black Tenting is the first period of the Tenting season. Following the conclusion of Black Tenting, missed checks will clear and all Black Tents will begin following Blue Tenting rules."}),Object(z.jsx)(y.a,{style:{marginHorizontal:20},children:Object(z.jsx)(qt.e,{borderStyle:{borderWidth:1.3},children:Object(z.jsx)(qt.f,{style:En(i).tableWrapper,children:Object(z.jsx)(qt.d,{data:zn.tableData,flexArr:[1,1.987],style:v.a.flatten(En(i).tentTableRow),textStyle:v.a.flatten(En(i).tableText)})})})}),Object(z.jsx)(y.a,{style:{marginVertical:18}}),Object(z.jsx)(w.a,{style:[En(i).header,En(i).tentHeaderBox,{backgroundColor:"blue",color:i.text1}],children:"Blue Tent"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Blue Tenting is the second period of the Tenting season. Following the conclusion of Blue Tenting, missed checks will clear and all Black and Blue Tents will begin following White Tenting rules."}),Object(z.jsx)(y.a,{style:{marginHorizontal:20},children:Object(z.jsx)(qt.e,{borderStyle:{borderWidth:1.3},children:Object(z.jsx)(qt.f,{style:En(i).tableWrapper,children:Object(z.jsx)(qt.d,{data:Rn.tableData,flexArr:[1,1.987],style:v.a.flatten(En(i).tentTableRow),textStyle:v.a.flatten(En(i).tableText)})})})}),Object(z.jsx)(y.a,{style:{marginVertical:18}}),Object(z.jsx)(w.a,{style:[En(i).header,En(i).tentHeaderBox,{backgroundColor:i.text1}],children:"White Tent"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"White Tenting is the third period of the Tenting season."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Given the high demand for White tents, the order of White tents will be determined by a scavenger hunt."}),Object(z.jsx)(y.a,{style:{marginHorizontal:20},children:Object(z.jsx)(qt.e,{borderStyle:{borderWidth:1.3},children:Object(z.jsx)(qt.f,{style:En(i).tableWrapper,children:Object(z.jsx)(qt.d,{data:Dn.tableData,flexArr:[1,1.987],style:v.a.flatten(En(i).tentTableRow),textStyle:v.a.flatten(En(i).tableText)})})})}),Object(z.jsx)(y.a,{style:{marginVertical:18}}),Object(z.jsx)(w.a,{style:[En(i).header,En(i).tentHeaderBox,{backgroundColor:i.grey6}],children:"Flex Tent"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Flex Tenting abides by the same rules and regulations as White Tenting, but Flex tents are NOT GUARANTEED a spot in the Carolina game."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"These tenting spots will be filled through the Race to the Secret Spots. The 31st to 60th groups to complete the Race to the Secret Spots will receive Flex Tenting spots."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"All groups after the 60th group to complete the Race to the Secret Spots will be added to the Flex Tenting wait list."}),Object(z.jsx)(w.a,{style:En(i).header,onLayout:function(e){var t=e.nativeEvent.layout;a=t.y},children:"Personal Checks"}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"P-Checks are conducted on an individual basis. Therefore, an entire tent will not be penalized should a member of their tent miss too many Personal Checks."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Five Personal Checks will be called at any time on **insert date**"}),Object(z.jsx)(w.a,{style:[En(i).contentText,{fontWeight:"700"}],children:"To obtain a wristband for the Carolina game, a tenter must check in at THREE of the FIVE checks."}),Object(z.jsx)(w.a,{style:En(i).contentText,children:"Individuals who fail to report to three of the five Personal Checks will be ineligible to receive a wristband for the Carolina game. Those students will not, however, penalize the other members in their tent"})]})]})}var En=function(e){return v.a.create({container:{flex:1,backgroundColor:e.background,flexDirection:"column"},buttonContainer:{flex:1,flexDirection:"row",justifyContent:"space-between",width:"100%"},button:{backgroundColor:e.primary,width:Wn.width/6,height:50,alignItems:"center",justifyContent:"center"},buttonText:{fontWeight:"500",textAlign:"center",color:e.text1},header:{marginVertical:10,marginHorizontal:15,fontSize:28,fontWeight:"700"},contentText:{fontSize:18,fontWeight:"400",marginHorizontal:24,marginVertical:10,color:e.text2},tentHeaderBox:{width:"",height:40,borderRadius:20,textAlign:"center"},tableHead:{height:40,backgroundColor:"lavender"},tableWrapper:{flexDirection:"row"},tableTitle:{flex:1,backgroundColor:"lavender"},tableRow:{height:28},tableText:{fontSize:12,fontWeight:"500",textAlign:"center"},tentTableRow:{height:95}})},Un=n(165),Vn={0:"AM",1:"PM"},Ln={0:"00",1:"30"},Nn={"Morning Shift":"#FDF1DB","Afternoon Shift":"#FCEBE5","Night Shift":"#E5DBFF"};function Mn(e){var t=e.navigation,n=Object(d.c)((function(e){return e.user.currGroupCode})),r=Object(c.useState)(!1),a=o()(r,2),s=(a[0],a[1],Object(c.useState)(!1)),l=o()(s,2),u=(l[0],l[1],Object(c.useState)(!1)),h=o()(u,2),b=h[0],f=h[1],g=D().theme,m=Object(c.useRef)(),x=Object(j.d)(["shifts",p.a.auth().currentUser.uid,n],(function(){return function(e){var t,n,r,o,a;return i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,i.a.awrap(p.a.firestore().collection("groups").doc(e).collection("members").doc(p.a.auth().currentUser.uid).get().then((function(e){m.current=e.data().shifts})));case 2:for(t=[{title:"Sunday",data:[]},{title:"Monday",data:[]},{title:"Tuesday",data:[]},{title:"Wednesday",data:[]},{title:"Thursday",data:[]},{title:"Friday",data:[]},{title:"Saturday",data:[]}],n=0;n<m.current.length;n++)if(m.current[n]){for(r=n,o=Math.floor(r/48);n<m.current.length&&m.current[n];)n++;a=n-1,t[o].data.push({start:r,end:a})}return c.abrupt("return",t);case 5:case"end":return c.stop()}}),null,null,null,Promise)}(n)}),{initialData:[],onSuccess:function(){return f(!0)}}),O=x.isLoading,v=x.isError,C=(x.error,x.data),S=it(x.refetch),k=S.isRefetchingByUser,P=S.refetchByUser;!function(e){var t=Object(j.e)();Object(j.c)((function(e){return function(e){for(var t=e.item,n=e.groupCode,r=m.current,o=t.start;o<=t.end;o++)r[o]=!1;p.a.firestore().collection("groups").doc(n).collection("members").doc(p.a.auth().currentUser.uid).update({shifts:r});var a=C;return a.splice(t.id,1),a}(e)}),{onError:function(e){},onSuccess:function(n){t.setQueryData(["shifts",p.a.auth().currentUser.uid,e],n)}})}(n);return O||!b?Object(z.jsx)(qe,{}):v?Object(z.jsx)($e,{navigation:t}):function(e){for(var t=0;t<e.length;t++)if(0!=e[t].data.length)return!1;return!0}(C)?Object(z.jsxs)(y.a,{style:{flex:1,justifyContent:"center",alignItems:"center",paddingBottom:"30%",backgroundColor:g.background},children:[Object(z.jsx)(w.a,{children:"No Shifts have been assigned to you"}),Object(z.jsx)(T.a,{style:{opacity:.5,height:"30%",width:"50%"},resizeMode:"contain",source:xn.a})]}):Object(z.jsx)(y.a,{style:Hn(g).screenContainer,children:Object(z.jsx)(Un.a,{sections:C,keyExtractor:function(e,t){return e+t},renderItem:function(e){var t=e.item,n=Math.floor(t.start/48),r=t.start-48*n,o=Math.floor(r/24),a=0==Math.floor((r-24*o)/2)?12:Math.floor((r-24*o)/2),i=r%2,c=Math.floor(t.end/48),s=t.end-48*c,l=Math.floor(s/24),u=0==Math.floor((s-24*l)/2)?12:Math.floor((s-24*l)/2),d=s%2,h=a>6&&0==o?"Morning Shift":a>0&&a<=5&&1==o?"Afternoon Shift":"Night Shift";return Object(z.jsxs)(y.a,{style:[Hn(g).listItem,Hn(g).shadowProp,{backgroundColor:Nn[h]}],children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row",width:"100%",alignItems:"center",height:"60%"},children:[Object(z.jsx)(I.default,{name:"clock-outline",color:g.grey1,size:20}),Object(z.jsxs)(w.a,{style:Hn(g).timeText,children:[a," : ",Ln[i]," ",Vn[o]," - ",u," : ",Ln[d]," ",Vn[l]]})]}),Object(z.jsx)(y.a,{style:{borderTopWidth:1,width:"100%",height:"40%",justifyContent:"center"},children:Object(z.jsx)(w.a,{style:Hn(g).listText,children:h})})]})},renderSectionHeader:function(e){var t=e.section,n=t.title;return 0!=t.data.length?Object(z.jsx)(w.a,{style:Hn(g).sectionHeader,children:n}):null},renderSectionFooter:function(){return Object(z.jsx)(y.a,{style:{marginBottom:10}})},refreshControl:Object(z.jsx)(Le.a,{enabled:!0,refreshing:k,onRefresh:P}),showsVerticalScrollIndicator:!1,stickySectionHeadersEnabled:!1})})}var Hn=function(e){return v.a.create({screenContainer:{flex:1,backgroundColor:e.background},listItem:{flexDirection:"column",alignItems:"start",padding:8,marginVertical:7,borderRadius:10,alignSelf:"center",width:"90%",height:90},listText:{fontSize:15,fontWeight:"400",color:e.grey1},timeText:{color:e.grey1,textAlign:"center",marginLeft:10,fontSize:15,fontWeight:"500"},sectionHeader:{fontSize:24,marginLeft:"6%",marginTop:10,color:e.grey1},shadowProp:{shadowColor:"#171717",shadowOffset:{width:-2,height:4},shadowOpacity:.2,shadowRadius:5,elevation:20}})},Gn=n(109),Fn=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.snackbar.snackbarOpen})),n=Object(d.c)((function(e){return e.snackbar.snackbarMessage})),r=D().theme;return Object(z.jsx)(Gn.a,{onPress:function(){return e(V())},children:Object(z.jsx)(Wt.a,{visible:t,onDismiss:function(){return e(V())},wrapperStyle:{top:0},duration:2e3,elevation:5,children:Object(z.jsx)(w.a,{style:{textAlign:"center",color:r.text1},children:n})})})};function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Xn=Object(ee.a)();function Qn(){var e=Object(c.useState)(!1),t=o()(e,2),n=t[0],r=t[1],a=Object(c.useState)(),l=o()(a,2),u=l[0],b=l[1],j=Object(c.useState)(!1),g=o()(j,2),m=g[0],x=g[1],O=Object(c.useState)(!1),v=o()(O,2),S=v[0],T=v[1],k=D().theme,P=Object(d.b)();function B(){x(!m)}function R(){T(!S)}var W=function(){return Object(z.jsxs)(y.a,{style:{flex:1,paddingBottom:20},children:[Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"This page is for your availability throughout the week. You will input what times of the week you are not available for tenting."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"To do so, click the add button on the bottom right to add a new busy time and input the day, start time, and end time."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"Do this for your entire weekly schedule. You can delete blocks to edit your times."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"This schedule remains the same from week to week, but you may edit every week if you have changes to your schedule."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"Make sure to fill out your availability every week before you Create a New Group Schedule or your busy times will not be accounted for in the group schedule."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"NOTE*: If you mark yourself as available at 1am on a day, you will be marked available for the whole night shift from 1am to 7am. So make sure to mark 1am as busy to account for the night shift."})]})},A=function(){return Object(z.jsxs)(y.a,{style:{flex:1,paddingBottom:20},children:[Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"This page is for your group schedule for the week (from Sunday to Saturday midnight)."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"Groups should aim to create a new weekly schedule every week after members fill out their availability for that week."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"Once all members of the group have filled out their availability for the week, an admin should create a new group schedule."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:"After the schedule is made, admins can make edits by clicking on the time slot and changing the member for that time."}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:'Colors for the time shifts correspond with each member. Blocks labeled "empty" means no one is available at that time and need to be addressed (this can be done by having an admin edit the schedule to fill in those empty spots).'}),Object(z.jsx)(w.a,{style:Jn(k).InfoText,children:'The page also displays the previous schedule (labeled "previous") for the group\'s reference.'})]})};return Object(c.useEffect)((function(){var e=!0;p.a.firestore().collection("users").doc(p.a.auth().currentUser.uid).get().then((function(t){e&&t.exists&&P(Ce(t.data()))})).then((function(){})).catch((function(e){}));return n||function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.a.awrap(te.a.getInitialURL());case 3:if(n.sent,"web"===h.a.OS){n.next=10;break}return n.next=7,i.a.awrap(Q.a.getItem("NAVIGATION_STATE_V1"));case 7:e=n.sent,void 0!==(t=e?JSON.parse(e):void 0)&&b(t);case 10:return n.prev=10,r(!0),n.finish(10);case 13:case"end":return n.stop()}}),null,null,[[0,,10,13]],Promise)}(),function(){return e=!1}}),[n]),n?Object(z.jsx)(y.a,{style:{flex:1,zIndex:1},children:Object(z.jsxs)(s.a,{initialState:u,onStateChange:function(e){Q.a.setItem("NAVIGATION_STATE_V1",JSON.stringify(e))},children:[Object(z.jsxs)(Xn.Navigator,{initialRouteName:"Start",drawerContent:function(e){return Object(z.jsx)(Qt,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},screenOptions:{drawerType:"front"},children:[Object(z.jsx)(Xn.Screen,{name:"Home",component:lt,options:{headerShown:!1,swipeEnabled:!1}}),Object(z.jsx)(Xn.Screen,{name:"CreateGroup",component:gt,options:{headerShown:!1,swipeEnabled:!1}}),Object(z.jsx)(Xn.Screen,{name:"StackNavigator",component:Ue,options:{headerShown:!1,swipeEnabled:!1}}),Object(z.jsx)(Xn.Screen,{name:"JoinGroup",component:yt,options:{headerShown:!1,swipeEnabled:!1}}),Object(z.jsx)(Xn.Screen,{name:"GroupInfo",component:Vt,options:{headerShown:!1,swipeEnabled:!0}}),Object(z.jsx)(Xn.Screen,{name:"AvailabilityScreen",component:sn,options:function(e){var t=e.navigation;return{title:"Availability",headerStyle:{backgroundColor:k.primaryContainer,borderBottomWidth:0,shadowColor:"transparent"},headerLeft:function(){return Object(z.jsx)(ne.a,{icon:"menu",size:25,onPress:function(){return t.openDrawer()}})},headerRight:function(){return Object(z.jsxs)(y.a,{children:[Object(z.jsx)(C.a,{onPress:function(){B()},style:{marginRight:20},children:Object(z.jsx)(I.default,{name:"help-circle-outline",color:"black",size:25})}),Object(z.jsxs)(ot,{isVisible:m,onBackdropPress:B,swipeDown:!1,height:350,userStyle:"light",children:[Object(z.jsxs)(y.a,{style:Jn(k).popUpHeaderView,children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(z.jsx)(I.default,{name:"lightbulb",color:k.grey2,size:40,style:{marginRight:15}}),Object(z.jsxs)(y.a,{children:[Object(z.jsx)(w.a,{style:{fontWeight:"500"},children:"Helpful Tips"}),Object(z.jsx)(w.a,{style:{fontSize:15,fontWeight:"700"},children:"How to use the Availability Page"})]})]}),Object(z.jsx)(C.a,{onPress:B,children:Object(z.jsx)(I.default,{name:"close-circle",color:k.grey2,size:32,style:{marginTop:4}})})]}),Object(z.jsx)($.a,{showsVerticalScrollIndicator:!1,style:Jn(k).textView,scrollToOverflowEnabled:!0,children:Object(z.jsx)(W,{})}),Object(z.jsx)(y.a,{style:{height:"13%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(z.jsx)(C.a,{onPress:B,style:Jn(k).closeBtn,children:Object(z.jsx)(w.a,{style:{color:k.text1,fontSize:20,fontWeight:"600"},children:"Ok"})})})]})]})}}}}),Object(z.jsx)(Xn.Screen,{name:"ShiftsScreen",component:Mn,options:function(e){var t=e.navigation;return{title:"Shifts This Week",headerStyle:{backgroundColor:k.primaryContainer,borderBottomWidth:0,shadowColor:"#171717",shadowOffset:{width:-2,height:4},shadowOpacity:.2,shadowRadius:5,elevation:20},headerLeft:function(){return Object(z.jsx)(ne.a,{icon:"menu",size:25,onPress:function(){return t.openDrawer()}})}}}}),Object(z.jsx)(Xn.Screen,{name:"ScheduleScreen",component:vn,options:function(e){var t=e.navigation;return{title:"Group Schedule",headerStyle:{backgroundColor:k.primaryContainer,borderBottomWidth:0,shadowColor:"transparent"},headerLeft:function(){return Object(z.jsx)(ne.a,{icon:"menu",size:25,onPress:function(){return t.openDrawer()}})},headerRight:function(){return Object(z.jsxs)(y.a,{children:[Object(z.jsx)(C.a,{onPress:function(){R()},style:{marginRight:20},children:Object(z.jsx)(I.default,{name:"help-circle-outline",color:"black",size:25})}),Object(z.jsxs)(ot,{isVisible:S,onBackdropPress:R,swipeDown:!1,height:350,userStyle:"light",children:[Object(z.jsxs)(y.a,{style:Jn(k).popUpHeaderView,children:[Object(z.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(z.jsx)(I.default,{name:"lightbulb",color:k.grey2,size:40,style:{marginRight:15}}),Object(z.jsxs)(y.a,{children:[Object(z.jsx)(w.a,{style:{fontWeight:"500"},children:"Helpful Tips"}),Object(z.jsx)(w.a,{style:{fontSize:16,fontWeight:"700"},children:"How to use the Schedule Page"})]})]}),Object(z.jsx)(C.a,{onPress:R,children:Object(z.jsx)(I.default,{name:"close-circle",color:k.grey2,size:32,style:{marginTop:4}})})]}),Object(z.jsx)($.a,{showsVerticalScrollIndicator:!1,style:Jn(k).textView,scrollToOverflowEnabled:!0,children:Object(z.jsx)(A,{})}),Object(z.jsx)(y.a,{style:{height:"13%",width:"100%",justifyContent:"center",alignItems:"center"},children:Object(z.jsx)(C.a,{onPress:R,style:Jn(k).closeBtn,children:Object(z.jsx)(w.a,{style:{color:k.text1,fontSize:20,fontWeight:"600"},children:"Ok"})})})]})]})}}}}),Object(z.jsx)(Xn.Screen,{name:"MonitorScreen",component:Sn,options:function(e){var t=e.navigation;return{title:"",headerStyle:{backgroundColor:k.primaryContainer,borderBottomWidth:0,shadowColor:"transparent"},headerLeft:function(){return Object(z.jsx)(ne.a,{icon:"menu",size:25,onPress:function(){return t.openDrawer()}})}}}}),Object(z.jsx)(Xn.Screen,{name:"InfoScreen",component:An,options:function(e){var t=e.navigation;return{title:"Tenting Information",headerStyle:{backgroundColor:k.primaryContainer,borderBottomWidth:0,shadowColor:"transparent"},headerLeft:function(){return Object(z.jsx)(ne.a,{icon:"menu",size:25,onPress:function(){return t.openDrawer()}})}}}})]}),Object(z.jsx)(f.a,{style:"dark"}),Object(z.jsx)(Fn,{})]})}):null}var Jn=function(e){return v.a.create({popUpHeaderView:{flexDirection:"row",height:"18%",width:"94%",marginTop:"2%",justifyContent:"space-between",alignItems:"center"},textView:{height:"80%",width:"94%",backgroundColor:"#f3f3f3",borderRadius:18,paddingVertical:10,paddingHorizontal:15},InfoText:{color:e.text2,marginVertical:5,textAlign:"left",fontSize:16},closeBtn:{flexDirection:"row",height:"70%",width:"70%",backgroundColor:"#3B65A2",alignItems:"center",justifyContent:"center",borderRadius:15},headerContainer:{flexDirection:"row",width:"90%",justifyContent:"space-between",marginBottom:15},headerText:{fontSize:20,fontWeight:"700",color:e.grey2},textInput:{backgroundColor:e.white2,paddingVertical:10,paddingHorizontal:15,width:"90%",fontSize:18,fontWeight:"500",textAlign:"left",borderRadius:15,marginBottom:23,borderColor:e.grey2}})};function qn(e){var t=e.navigation,n=Object(c.useState)(""),r=o()(n,2),a=r[0],s=r[1],l=D().theme;return Object(z.jsxs)(re.a,{style:Zn(l).container,children:[Object(z.jsx)(X.a,{barStyle:"dark-content",backgroundColor:"#6a51ae"}),Object(z.jsxs)(y.a,{style:Zn(l).formCenter,children:[Object(z.jsx)(w.a,{children:"Forgot Password?"}),Object(z.jsxs)(y.a,{style:Zn(l).section,children:[Object(z.jsx)(y.a,{style:Zn(l).icon,children:Object(z.jsx)(I.default,{name:"email-outline",color:l.icon2,size:25})}),Object(z.jsx)(O.a,{style:Zn(l).textInput,placeholder:"Enter email",value:a,onChangeText:function(e){return s(e)},keyboardType:"email-address"})]}),Object(z.jsx)(C.a,{style:Zn(l).button,onPress:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(p.a.auth().sendPasswordResetEmail(a).then((function(){t.navigate("Login")})).catch((function(e){})));case 2:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(z.jsx)(w.a,{style:{color:l.text1},children:"Send Email"})})]})]})}var Zn=function(e){return v.a.create({container:{flex:1,backgroundColor:e.white2},formCenter:{justifyContent:"center",flex:1,margin:25},section:{flexDirection:"row",alignItems:"center",backgroundColor:e.white2,height:40,borderRadius:20,margin:10,shadowColor:e.primary,elevation:20,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:7},icon:{position:"absolute",left:-10,height:50,width:50,borderRadius:100,alignItems:"center",justifyContent:"center",backgroundColor:e.white2,shadowColor:e.primary,elevation:20,shadowOffset:{width:0,height:4},shadowOpacity:.3,shadowRadius:7},textInput:{marginLeft:50,flexDirection:"row",flex:1,backgroundColor:e.white2,padding:10,borderRadius:20,height:"100%"},button:{alignItems:"center",justifyContent:"center",flexDirection:"row",width:"100%",backgroundColor:e.primary,height:30,marginTop:40,borderRadius:50}})},Kn=n(92),Yn=n(279),$n=n(198),er=Object(Kn.b)({user:ze,snackbar:N}),tr={key:"root",storage:Q.a},nr=Object(Yn.a)(tr,er),rr=Object(A.a)({reducer:nr,middleware:[$n.a]}),or=Object(Yn.b)(rr);0===p.a.apps.length&&p.a.initializeApp({apiKey:"AIzaSyDEFvAO5nl5XlW7WcGcDCrFGo4QEZFuWq0",authDomain:"duke-tenting-app-cc15b.firebaseapp.com",databaseURL:"https://duke-tenting-app-cc15b-default-rtdb.firebaseio.com",projectId:"duke-tenting-app-cc15b",storageBucket:"duke-tenting-app-cc15b.appspot.com",messagingSenderId:"391061238630",appId:"1:391061238630:web:85fbc00e4babf43cdc8ea7",measurementId:"G-6QNGDGFLHZ"});var ar=Object(l.a)(),ir=new j.a;function cr(){var e=Object(c.useState)({isReady:!1}),t=o()(e,2),n=t[0],r=t[1];function a(e){var t,n,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(null==(t=p.a.auth().currentUser.uid)){o.next=5;break}return o.next=4,i.a.awrap(p.a.firestore().collection("users").doc(t).get().then((function(e){n=e.data().groupCode})).catch((function(e){})));case 4:for(r=0;r<n.length;r++)p.a.firestore().collection("groups").doc(n[r].groupCode).collection("members").doc(t).update({inTent:e}).catch((function(e){}));case 5:case"end":return o.stop()}}),null,null,null,Promise)}x.a("KVILLE",(function(e){var t=e.data,r=t.eventType;t.region;e.error||(r===g.b.Enter?n.loggedIn&&a(!0):r===g.b.Exit&&n.loggedIn&&a(!1))})),Object(c.useEffect)((function(){var e=!0;return"web"!==h.a.OS&&function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(m.b());case 2:if(e=n.sent,"granted"===e.status){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,i.a.awrap(m.a());case 10:if(t=n.sent,"granted"===t.status){n.next=16;break}return n.abrupt("return");case 16:m.c("KVILLE",[{latitude:35.997435,longitude:-78.940823,radius:150}]);case 17:case"end":return n.stop()}}),null,null,null,Promise)}(),e&&i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.awrap(u.b());case 3:p.a.auth().onAuthStateChanged((function(e){r(e?{isReady:!0,loggedIn:!0}:{isReady:!0,loggedIn:!1})})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),null,null,[[0,6]],Promise),function(){return e=!1}}),[]);var l=Object(c.useCallback)((function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isReady){e.next=3;break}return e.next=3,i.a.awrap(u.a());case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[n.isReady]);return n.isReady?n.loggedIn?Object(z.jsx)(j.b,{client:ir,children:Object(z.jsx)(d.a,{store:rr,children:Object(z.jsx)(b.a,{loading:null,persistor:or,children:Object(z.jsx)(W,{children:Object(z.jsx)(Qn,{})})})})}):Object(z.jsx)(d.a,{store:rr,children:Object(z.jsx)(b.a,{loading:null,persistor:or,children:Object(z.jsx)(W,{children:Object(z.jsxs)(s.a,{onReady:l,children:[Object(z.jsxs)(ar.Navigator,{initialRouteName:"Login",children:[Object(z.jsx)(ar.Screen,{name:"Register",component:F,options:{headerShown:!1}}),Object(z.jsx)(ar.Screen,{name:"Login",component:q,options:{headerShown:!1}}),Object(z.jsx)(ar.Screen,{name:"ForgotPassword",component:qn,options:function(e){e.navigation;return{title:"",headerStyle:{backgroundColor:"#f6f6f6",borderBottomWidth:0,shadowColor:"transparent"},headerTitleStyle:{fontSize:28}}}})]}),Object(z.jsx)(f.a,{style:"light"}),Object(z.jsx)(Fn,{})]})})})}):null}},413:function(e,t,n){e.exports=n(584)}},[[413,1,2]]]);
//# sourceMappingURL=app.e921861a.chunk.js.map